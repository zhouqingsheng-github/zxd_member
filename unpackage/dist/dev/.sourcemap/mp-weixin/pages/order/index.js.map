{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/order/index.vue?cc20","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/order/index.vue?861b","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/order/index.vue?4c0a","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/order/index.vue?3c55","uni-app:///pages/order/index.vue","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/order/index.vue?55a9","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/order/index.vue?e47b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","UImage","CustomTabbar","EmptyState","onPullDownRefresh","uni","onLoad","frontColor","backgroundColor","onShow","scrollTop","duration","data","tabs","label","value","currentTab","scrollLeft","orders","currentPage","pageSize","total","hasMore","loading","tabLoading","refreshing","defaultCover","bottomPaddingRpx","isPaying","showExchangeTab","mounted","watch","immediate","handler","methods","goBack","showExchangeTabFun","catch","switchTab","onRefresh","formatDate","formatDateRange","formatDateRange2","statusText","getPriceLabel","resetAndLoadData","listData","params","page","res","newRecords","console","title","icon","loadMore","goDetail","url","gotoUse","content","confirmText","cancelText","success","cancelOrder","refund","then","showCancel","payOrder","mask","payResult","provider","setTimeout","fail","complete","reviewOrder","rebookOrder","deleteOrder","calcTabbarHeight","in","select","boundingClientRect","exec"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACwNv1B;AACA;AACA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;EACAC;IAAAC;IAAAC;IAAAC;EAAA;EACAC;IACAC;IACA;EACA;EACAC;IACAD;MACAE;MACAC;IACA;EACA;EACAC;IACAJ;MACAE;MACAC;IACA;IACAH;MACAK;MACAC;IACA;IACA;IACA;EACA;EACAC;IACA;MACAC,OACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAf;MACAgB;MACAC;QAAA;UAAA;YAAA;cAAA;gBAAA;kBACA;kBAAA;kBAAA,OACA;gBAAA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;QAAA;MAAA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEA,4BACAC;kBACA;gBACA;cAAA;gBAHA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA;IACAC;MACA;MACA;MACA;MACA;QAAA;MAAA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MAEA;QACA;QACA;QACA;QACA;MACA;MAEA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBAAA;gBAEA;gBACAC;kBACAC;kBACA5B;gBACA;gBACA;gBAAA;gBAAA,OACA,+BACAiB;kBACA;gBACA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","file":"pages/order/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0ca91b30&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ca91b30\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=0ca91b30&scoped=true&\"","var components\ntry {\n  components = {\n    uniNavBar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.orders, function (order, __i0__) {\n    var $orig = _vm.__get_orig(order)\n    var m0 = order.type === 0 ? _vm.statusText(order.orderStatus) : null\n    var m1 =\n      !(order.type === 0) && order.type === 1\n        ? _vm.statusText(order.orderStatus)\n        : null\n    var m2 =\n      order.type === 0\n        ? _vm.formatDateRange(order.checkInDate, order.checkOutDate)\n        : null\n    var m3 =\n      order.type === 1\n        ? _vm.formatDateRange2(order.checkInDate, order.checkOutDate)\n        : null\n    var m4 = order.type === 0 ? _vm.getPriceLabel(order.orderStatus) : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      m3: m3,\n      m4: m4,\n    }\n  })\n  var g0 =\n    !_vm.tabLoading && !_vm.refreshing && !(_vm.loading && _vm.currentPage > 1)\n      ? !_vm.hasMore && _vm.orders.length > 0\n      : null\n  var g1 =\n    !_vm.tabLoading &&\n    !_vm.refreshing &&\n    !(_vm.loading && _vm.currentPage > 1) &&\n    !g0\n      ? !_vm.loading && !_vm.orders.length\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"page\">\n    <!-- 顶部自定义导航栏 -->\n    <view class=\"fixed-header\">\n      <uni-nav-bar\n          backgroundColor=\"#FFFFFF\"\n          :shadow=\"false\"\n          :border=\"false\"\n          status-bar\n          left-icon=\"left\"\n          @clickLeft=\"goBack\"\n      >\n        <template #default>\n          <text class=\"nav-title\">我的订单</text>\n        </template>\n      </uni-nav-bar>\n\n      <!-- 订单状态 Tab -->\n      <view class=\"tabs-wrapper\">\n        <scroll-view \n            class=\"tabs-scroll\" \n            scroll-x \n            show-scrollbar=\"false\"\n            :scroll-left=\"scrollLeft\"\n        >\n          <view class=\"tabs-container\">\n            <view\n                v-for=\"(tab, idx) in tabs\"\n                :key=\"tab.value\"\n                :class=\"['tab', { active: currentTab === tab.value }]\"\n                @click=\"switchTab(tab.value)\"\n                v-if=\"!(tab.value === 6 && !showExchangeTab)\">\n              {{ tab.label }}\n              <view v-if=\"tab.value === 6 && showExchangeTab\" class=\"red-dot\"></view>\n            </view>\n          </view>\n        </scroll-view>\n        <!-- 右侧白色遮挡 -->\n        <view class=\"tabs-mask-left\"></view>\n        <view class=\"tabs-mask\"></view>\n      </view>\n    </view>\n\n    <!-- 列表区域 -->\n    <scroll-view\n        class=\"order-list\"\n        scroll-y\n        @scrolltolower=\"loadMore\"\n        enable-back-to-top\n        refresher-enabled\n        :refresher-triggered=\"refreshing\"\n        @refresherrefresh=\"onRefresh\"\n    >\n      <!-- 切换 Tab 遮罩 -->\n      <view v-if=\"tabLoading\" class=\"tab-loading-overlay\">\n        <view class=\"tab-loading-content\">\n          <view class=\"tab-loading-spinner\">\n            <view class=\"spinner-ring\"></view>\n            <view class=\"spinner-ring\"></view>\n            <view class=\"spinner-ring\"></view>\n          </view>\n          <text class=\"tab-loading-text\">正在切换...</text>\n        </view>\n      </view>\n\n      <!-- 订单卡片 -->\n      <view\n          v-for=\"order in orders\"\n          :key=\"order.id\"\n          class=\"order-card\"\n          :class=\"{ 'loading-blur': tabLoading }\"\n      >\n        <!-- 订单号和状态 -->\n        <template v-if=\"order.type === 0\">\n        <view class=\"order-header\">\n          <text class=\"order-number\">订单号：{{\n              order.orderNo\n            }}\n          </text>\n          <view class=\"status-section\">\n            <text class=\"order-status\" :class=\"'status-' + order.orderStatus\">\n              {{ statusText(order.orderStatus) }}\n            </text>\n            <view v-if=\"order.orderStatus === 4 || order.orderStatus === 5\" class=\"verticalLine\"></view>\n            <image\n                v-if=\"order.orderStatus === 4 || order.orderStatus === 5\"\n                class=\"delete-icon\"\n                @click.stop=\"deleteOrder(order)\"\n                src=\"/static/base/delete.png\" mode=\"aspectFill\"></image>\n          </view>\n        </view>\n        </template>\n        <template v-else-if=\"order.type === 1\">\n          <view class=\"order-header order-bg\">\n            <text class=\"order-number\">订单号：{{\n                order.orderNo\n              }}\n            </text>\n            <view class=\"status-section\">\n              <text class=\"order-status\" :class=\"'status-' + order.orderStatus\">\n                {{ statusText(order.orderStatus) }}\n              </text>\n              <view v-if=\"order.orderStatus === 4 || order.orderStatus === 5\" class=\"verticalLine\"></view>\n              <image\n                  v-if=\"order.orderStatus === 4 || order.orderStatus === 5\"\n                  class=\"delete-icon\"\n                  @click.stop=\"deleteOrder(order)\"\n                  src=\"/static/base/delete.png\" mode=\"aspectFill\"></image>\n            </view>\n          </view>\n        </template>\n        <!-- 酒店信息 -->\n        <view class=\"hotel-info\" @click=\"goDetail(order)\">\n          <image class=\"hotel-image\" :src=\"order.mainPicture || defaultCover\" mode=\"aspectFill\"/>\n          <view class=\"hotel-details\" v-if=\"order.type === 0\">\n            <text class=\"hotel-name\">{{ order.hotelName }}</text>\n            <text class=\"room-info\">{{ order.roomTypeName }} | {{ order.saleMode === 1 ? '房间数' : '床位数' }}：{{ order.roomCount }}</text>\n            <text class=\"date-info\">{{ formatDateRange(order.checkInDate, order.checkOutDate) }}</text>\n          </view>\n          <view class=\"hotel-details\" v-if=\"order.type === 1\">\n            <text class=\"hotel-name\">{{ order.hotelName }}</text>\n            <text class=\"room-info\"> 购买日期：{{ order.createTime }}</text>\n            <text class=\"date-info\">{{ formatDateRange2(order.checkInDate, order.checkOutDate) }}</text>\n          </view>\n        </view>\n        <view class=\"line\"></view>\n        <!-- 价格和操作按钮 -->\n        <view class=\"bottom-section\">\n          <!-- 价格信息 -->\n          <template v-if=\"order.type === 0\">\n          <view class=\"price-info\">\n              <text class=\"price-label\">{{ getPriceLabel(order.orderStatus) }}</text>\n              <text class=\"price-amount\">\n                <text class=\"currency\">￥</text>\n                {{ order.totalAmount }}\n              </text>\n          </view>\n          </template>\n          <template v-else-if=\"order.type === 1\">\n          <view class=\"order_source\">\n              订单来源：探探糖\n          </view>\n          </template>\n\n          <!-- 操作按钮 -->\n          <view class=\"action-buttons\">\n            <!-- 待支付状态：取消订单 + 立即支付 -->\n            <template v-if=\"order.orderStatus === 1\">\n              <view class=\"btn btn-cancel\" @click.stop=\"cancelOrder(order)\">\n                取消订单\n              </view>\n              <view class=\"btn btn-pay\" @click.stop=\"payOrder(order)\">\n                立即支付\n              </view>\n            </template>\n\n            <!-- 已支付状态：取消订单 + 查看详情 -->\n            <template v-else-if=\"order.orderStatus === 2\">\n              <view class=\"btn btn-cancel\" @click.stop=\"refund(order)\">\n                取消订单\n              </view>\n              <view class=\"btn btn-detail\" @click.stop=\"goDetail(order)\">\n                查看详情\n              </view>\n            </template>\n\n            <!-- 已完成状态：去评价 + 再次预订 -->\n            <template v-else-if=\"order.orderStatus === 3 && order.type !=1\">\n              <!--              <view class=\"btn btn-review\" @click.stop=\"reviewOrder(order)\">\n                              去评价\n                            </view>-->\n              <view class=\"btn btn-rebook\" @click.stop=\"rebookOrder(order)\">\n                再次预订\n              </view>\n            </template>\n\n            <!-- 已取消状态：再次预订 -->\n            <template v-else-if=\"order.orderStatus === 5 && order.type !=1\">\n              <view class=\"btn btn-rebook\" @click.stop=\"rebookOrder(order)\">\n                再次预订\n              </view>\n            </template>\n            <!-- 默认状态：查看详情 -->\n            <template v-else-if=\"order.orderStatus === 6 && order.type === 1\">\n              <view class=\"btn btn-detail\" @click.stop=\"gotoUse(order)\">\n                去兑换\n              </view>\n            </template>\n          </view>\n        </view>\n      </view>\n\n      <!-- 加载/空状态 -->\n      <view v-if=\"!tabLoading && !refreshing\" class=\"load-more-status\">\n        <view v-if=\"loading && currentPage > 1\" class=\"loading\">\n          <view class=\"loading-icon\"></view>\n          <text class=\"loading-text\">加载中...</text>\n        </view>\n        <view v-else-if=\"!hasMore && orders.length > 0\" class=\"no-more\">\n          <text class=\"no-more-text\">已经到底啦</text>\n        </view>\n        <EmptyState\n            v-else-if=\"!loading && !orders.length\"\n            text=\"暂无订单\"\n        />\n      </view>\n    </scroll-view>\n\n    <CustomTabbar :current=\"'order'\"/>\n  </view>\n</template>\n\n<script>\nimport CustomTabbar from \"@/components/CustomTabbar.vue\";\nimport EmptyState from \"@/components/EmptyState.vue\";\nimport UImage from \"../../uni_modules/uview-ui/components/u--image/u--image.vue\";\nimport {cancelOrder, deleteOrder, getOrderList, notWrittenOff, refundOrder} from \"@/common/api.js\";\nimport {payRetry, validateRefund} from \"../../common/api\";\nimport {pageBack} from \"../../common/redirect\";\n\nexport default {\n  name: \"OrderPage\",\n  components: {UImage, CustomTabbar, EmptyState},\n  onPullDownRefresh() {\n    uni.stopPullDownRefresh();\n    return false;\n  },\n  onLoad() {\n    uni.setNavigationBarColor({\n      frontColor: '#000000',\n      backgroundColor: '#FFFFFF'\n    });\n  },\n  onShow() {\n    uni.setNavigationBarColor({\n      frontColor: '#000000',\n      backgroundColor: '#FFFFFF'\n    });\n    uni.pageScrollTo({\n      scrollTop: 0,\n      duration: 0\n    });\n    this.listData();\n    this.showExchangeTabFun()\n  },\n  data() {\n    return {\n      tabs: [\n        {label: \"全部\", value: 0},\n        {label: \"待兑换\", value: 6},\n        {label: \"待支付\", value: 1},\n        {label: \"待入住\", value: 2},\n        {label: \"已完成\", value: 3},\n        {label: \"已取消\", value: 5}\n      ],\n      currentTab: 0,\n      scrollLeft: 0,\n      orders: [],\n      currentPage: 1,\n      pageSize: 5,\n      total: 0,\n      hasMore: true,\n      loading: false,\n      tabLoading: false,\n      refreshing: false,\n      defaultCover: \"\",\n      bottomPaddingRpx: 0,\n      isPaying: false,\n      showExchangeTab:false\n    };\n  },\n  mounted() {\n    this.calcTabbarHeight();\n  },\n  watch: {\n    currentTab: {\n      immediate: true,\n      handler: async function () {\n        this.tabLoading = true;\n        await this.$nextTick();\n        this.resetAndLoadData();\n      }\n    }\n  },\n  methods: {\n    goBack() {\n      pageBack()\n    },\n    async showExchangeTabFun() {\n      // 在获取订单列表前先判断是否显示\"待兑换\"标签\n      this.showExchangeTab = await notWrittenOff({})\n          .catch((error) => {\n            throw new Error(error.message || '加载失败');\n          });\n    },\n    switchTab(value) {\n      if (this.currentTab === value) return;\n      this.currentTab = value;\n      // 计算需要滚动的距离，使当前选中的标签居中显示\n      const index = this.tabs.findIndex(tab => tab.value === value);\n      if (index !== -1) {\n        // 每个tab大约80rpx宽，计算居中位置\n        this.scrollLeft = index * 80 - 150; // 150约为屏幕中心偏移\n      }\n    },\n    onRefresh() {\n      this.refreshing = true;\n      this.resetAndLoadData();\n    },\n    formatDate(dateStr) {\n      if (!dateStr) return \"\";\n      const date = new Date(dateStr);\n      const m = (date.getMonth() + 1).toString().padStart(2, \"0\");\n      const d = date.getDate().toString().padStart(2, \"0\");\n      return `${m}.${d}`;\n    },\n    formatDateRange(checkIn, checkOut) {\n      if (!checkIn || !checkOut) return \"\";\n      const startDate = new Date(checkIn);\n      const endDate = new Date(checkOut);\n      const diffTime = Math.abs(endDate - startDate);\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n      const formatDate = (date) => {\n        const year = date.getFullYear();\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\n        const day = date.getDate().toString().padStart(2, '0');\n        return `${year}.${month}.${day}`;\n      };\n\n      return `${formatDate(startDate)}至${formatDate(endDate)}（共${diffDays}晚）`;\n    },\n    formatDateRange2(checkIn, checkOut) {\n      if (!checkIn || !checkOut) return \"\";\n      const startDate = new Date(checkIn);\n      const endDate = new Date(checkOut);\n      const formatDate = (date) => {\n        const year = date.getFullYear();\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\n        const day = date.getDate().toString().padStart(2, '0');\n        return `${year}.${month}.${day}`;\n      };\n      const formatDate2 = (date) => {\n        const year = date.getFullYear();\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\n        const day = date.getDate().toString().padStart(2, '0');\n        const hours = date.getHours().toString().padStart(2, '0');\n        const minutes = date.getMinutes().toString().padStart(2, '0');\n        const seconds = date.getSeconds().toString().padStart(2, '0');\n        return `${year}.${month}.${day}(${hours}:${minutes}:${seconds})`;\n      };\n      return `有效期：${formatDate(startDate)}至${formatDate(endDate)}`;\n    },\n    statusText(status) {\n      const map = {\n        '-2': \"已过期\",\n        '-1': \"已锁定\",\n        '1': \"待支付\",\n        '2': \"待入住\",\n        // 3: \"待评价\",\n        '3': \"已完成\",\n        '4': \"已完成\",\n        '5': \"已取消\",\n        '6': \"待兑换\",\n      };\n      return map[status] || \"全部\";\n    },\n    getPriceLabel(status) {\n      const map = {\n        1: \"应付总额\",\n        2: \"实付总额\",\n        3: \"实付总额\",\n        4: \"实付总额\",\n        5: \"已退款\",\n        6: \"订单来源\"\n      };\n      return map[status] || \"实付总额\";\n    },\n    resetAndLoadData() {\n      this.currentPage = 1;\n      this.hasMore = true;\n      this.total = 0;\n      this.listData();\n    },\n    async listData() {\n      if (this.loading) return;\n      this.loading = true;\n      try {\n        // 先判断是否需要显示\"待兑换\"标签\n        const params = {\n          page: this.currentPage,\n          pageSize: this.pageSize\n        };\n        if (this.currentTab !== 0) params.orderStatus = this.currentTab;\n        const res = await getOrderList(params)\n            .catch((error) => {\n              throw new Error(error.message || '加载失败');\n            });\n        if (!res || !res.records) {\n          throw new Error('数据格式错误');\n        }\n        if (this.currentPage === 1) {\n          this.orders = res.records;\n        } else {\n          const newRecords = res.records.filter(newOrder =>\n              !this.orders.some(existingOrder => existingOrder.id === newOrder.id)\n          );\n          this.orders = [...this.orders, ...newRecords];\n        }\n        this.total = res.total || 0;\n        this.hasMore = this.currentPage < (res.pages || 0);\n\n        if (res.records.length === 0 && this.currentPage > 1) {\n          this.currentPage--;\n        }\n      } catch (e) {\n        console.error('加载数据失败:', e);\n        uni.showToast({\n          title: e.message || \"加载失败，请重试\",\n          icon: \"none\"\n        });\n      } finally {\n        this.loading = false;\n        this.tabLoading = false;\n        this.refreshing = false;\n      }\n    },\n    loadMore() {\n      if (!this.hasMore || this.loading || this.tabLoading || this.refreshing) return;\n      this.currentPage++;\n      this.listData();\n    },\n    goDetail(order) {\n      if (order.type === 0) {\n        uni.navigateTo({\n          url: `/pages/subPackages/order/detail?id=${order.id}`\n        });\n      }\n      if (order.type === 1) {\n        uni.navigateTo({\n          url: `/pages/subPackages/order/three_detail?orderNo=${order.orderNo}`\n        });\n      }\n    },\n    gotoUse(order) {\n      uni.showModal({\n        title: '提示',\n        content: '由于此订单为探探糖订单，如需发票请联系探探糖平台进行开具。感谢您的理解与支持！',\n        confirmText: '继续使用',\n        cancelText: '取消',\n        success: async (res) => {\n          if (res.confirm) {\n            await uni.navigateTo({\n              url: `/pages/subPackages/home/search/jointSales?id=${order.id}&business=threeOrder`,\n            });\n          }\n        }\n      });\n    },\n    cancelOrder(order) {\n      uni.showModal({\n        title: '提示',\n        content: '订单确认取消后将无法恢复，是否确认取消？',\n        confirmText: '确认取消',\n        cancelText: '暂不取消',\n        success: async (res) => {\n          if (res.confirm) {\n            uni.showLoading({\n              title: '取消中...'\n            });\n            await cancelOrder(order.id)\n                .catch((err) => {\n                  uni.hideLoading();\n                  uni.showToast({\n                    title: err.error || '取消订单失败',\n                    icon: 'none'\n                  });\n                });\n            uni.hideLoading();\n            uni.showToast({\n              title: '订单已取消',\n              icon: 'success'\n            });\n            // 刷新订单列表\n            this.resetAndLoadData();\n          }\n        }\n      });\n    },\n    refund(order) {\n      validateRefund(order.id)\n          .then((res) => {\n            uni.showModal({\n              title: '提示',\n              content: '订单确认取消后将无法恢复，是否确认取消？',\n              confirmText: '确认取消',\n              cancelText: '暂不取消',\n              success: async (res) => {\n                if (res.confirm) {\n                  uni.showLoading({\n                    title: '取消中...'\n                  });\n                  await refundOrder(order.id)\n                      .then((res) => {\n                        uni.hideLoading();\n                        uni.showToast({\n                          title: '订单已取消',\n                          icon: 'success'\n                        });\n                        // 刷新订单列表\n                        this.resetAndLoadData();\n                      })\n                      .catch((err) => {\n                        uni.hideLoading();\n                        uni.showModal({\n                          title: '提示',\n                          content: err.error || '取消订单失败',\n                          showCancel: false,\n                          confirmText: '我知道了'\n                        });\n                      });\n                }\n              }\n            });\n          })\n          .catch((err) => {\n            uni.hideLoading();\n            if (err.error.indexOf('违约金') !== -1) {\n              uni.showModal({\n                title: '提示',\n                content: err.error,\n                confirmText: '确认取消',\n                cancelText: '暂不取消',\n                success: async (res) => {\n                  if (res.confirm) {\n                    uni.showLoading({\n                      title: '取消中...'\n                    });\n                    await refundOrder(order.id)\n                        .then((res) => {\n                          uni.hideLoading();\n                          uni.showToast({\n                            title: '订单已取消',\n                            icon: 'success'\n                          });\n                          // 刷新订单列表\n                          this.resetAndLoadData();\n                        })\n                        .catch((err) => {\n                          uni.hideLoading();\n                          uni.showModal({\n                            title: '提示',\n                            content: err.error || '取消订单失败',\n                            showCancel: false,\n                            confirmText: '我知道了'\n                          });\n                        });\n                  }\n                }\n              });\n            } else {\n              uni.showModal({\n                title: '提示',\n                content: err.error || '取消订单失败',\n                showCancel: false,\n                confirmText: '我知道了',\n                success: async (res) => {\n                  if (res.confirm) {\n                    await refundOrder(order.id)\n                        .then((res) => {\n                          // 刷新订单列表\n                          this.resetAndLoadData();\n                        })\n                        .catch((err) => {\n                        });\n                  }\n                }\n              });\n            }\n          });\n    },\n    async payOrder(order) {\n      // 防止重复点击\n      if (this.isPaying) return;\n      this.isPaying = true;\n\n      try {\n        uni.showLoading({\n          title: '支付中...',\n          mask: true\n        });\n\n        const payResult = await payRetry(order.orderNo)\n            .catch((err) => {\n              throw new Error(err.error || err.msg || '支付失败');\n            });\n\n        uni.hideLoading();\n\n        uni.requestPayment({\n          provider: 'wxpay',\n          ...(payResult.payParams),\n          success: (res) => {\n            uni.showToast({\n              title: '支付成功',\n              icon: 'success'\n            });\n            // 支付成功后跳转到订单列表\n            setTimeout(() => {\n              uni.redirectTo({\n                url: '/pages/order/list'\n              });\n            }, 1500);\n          },\n          fail: (err) => {\n          },\n          complete: () => {\n            // 重置支付状态\n            setTimeout(() => {\n              this.isPaying = false;\n            }, 1000); // 1秒后才能再次点击\n          }\n        });\n      } catch (error) {\n        uni.hideLoading();\n        uni.showToast({\n          title: error.message || '支付失败',\n          icon: 'none'\n        });\n        // 发生错误时也要重置支付状态\n        setTimeout(() => {\n          this.isPaying = false;\n        }, 1000);\n      }\n    },\n    reviewOrder(order) {\n      // 跳转到评价页面\n      uni.navigateTo({\n        url: `/pages/subPackages/order/review?id=${order.id}`\n      });\n    },\n    rebookOrder(order) {\n      // 重新预订，跳转到酒店详情页\n      const query = `?id=${order.roomTypeId}&orderId=${order.id}`;\n      uni.navigateTo({\n        url: '/pages/subPackages/order/index' + query\n      });\n    },\n    deleteOrder(order) {\n      uni.showModal({\n        title: '提示',\n        content: '订单删除后将无法恢复，是否确认删除？',\n        confirmText: '确认删除',\n        cancelText: '暂不删除',\n        success: async (res) => {\n          if (res.confirm) {\n            // 这里应该调用删除订单的API\n            await deleteOrder(order.id)\n            uni.showToast({\n              title: '订单已删除',\n              icon: 'success'\n            });\n            // 刷新订单列表\n            this.resetAndLoadData();\n          }\n        }\n      });\n    },\n    /* ===== 计算 Tabbar 高度并转换为 rpx ===== */\n    calcTabbarHeight() {\n      // 1. 屏幕宽度（px）\n      const screenW = uni.getSystemInfoSync().windowWidth;\n      // 2. 查询 .tabbar 元素实际高度（px）\n      uni.createSelectorQuery()\n          .in(this)\n          .select('.tabbar')\n          .boundingClientRect(rect => {\n            if (!rect) return;\n            // 3. px → rpx：1 rpx = 屏宽/750 px  ⇒  px*750/屏宽\n            const rpx = Math.ceil(rect.height * 750 / screenW);\n            this.bottomPaddingRpx = rpx;\n          })\n          .exec();\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n  background: #f3f4f6;\n  height: 100vh;\n  overflow: hidden;\n\n  .fixed-header {\n    background: #fff;\n  }\n\n  .nav-title {\n    width: 100%;\n    font-family: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif;\n    font-weight: 500;\n    font-size: 32rpx;\n    color: #19191A;\n    text-align: center;\n    height: 88rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .tabs-wrapper {\n    height: 70rpx;\n    margin-top: 34rpx;\n    position: relative;\n\n    .tabs-scroll {\n      white-space: nowrap;\n      width: 100%;\n      height: 70rpx;\n      position: relative;\n\n      .tabs-container {\n        display: flex;\n        padding: 0 44rpx;\n        width: max-content;\n        height: 70rpx;\n        align-items: center;\n        justify-content: space-around;\n        position: relative;\n\n        .tab {\n          margin: 0 30rpx;\n          font-size: 26rpx;\n          color: #333;\n          flex-shrink: 0;\n          position: relative;\n          \n          &.active {\n            font-weight: 500;\n          }\n\n          /* 红点样式 */\n          .red-dot {\n            position: absolute;\n            top: -10rpx;\n            right: -10rpx;\n            width: 14rpx;\n            height: 14rpx;\n            background: url('https://www.zxd-hotel.xin/zxdhotel/icon/tag_dot.png') no-repeat;\n            background-size: cover;\n            border-radius: 50%;\n            border: 2rpx solid #fff; /* 加白边更精致 */\n          }\n        }\n        \n        // 选中标签的下划线，固定在容器底部\n        .tab.active::after {\n          content: \"\";\n          display: block;\n          width: 40rpx;\n          height: 4rpx;\n          background: #ee781f;\n          border-radius: 2rpx;\n          position: absolute;\n          bottom: -15rpx;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n    }\n    \n    // 右侧白色遮挡\n    .tabs-mask-left {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 60rpx;\n      height: 70rpx;\n      background: #FFFFFF;\n      z-index: 999;\n      pointer-events: none;\n    }\n    // 右侧白色遮挡\n    .tabs-mask {\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 60rpx;\n      height: 70rpx;\n      background: #FFFFFF;\n      z-index: 999;\n      pointer-events: none;\n    }\n  }\n\n  .order-list {\n    /* 左右上 padding 依旧写死；底部由行内 style 动态控制 */\n    height: calc(100vh - var(--status-bar-height) - 88rpx - 68rpx - 100rpx);\n    overflow-y: auto;\n    padding-bottom: 40rpx;\n\n    .order-card {\n      background: #FFFFFF;\n      border-radius: 28rpx;\n      margin: 28rpx;\n      overflow: hidden;\n\n      &.loading-blur {\n        filter: blur(2rpx);\n        opacity: 0.6;\n      }\n\n      .order-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 40rpx 28rpx 38rpx 28rpx;\n        .order-number {\n          font-family: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif;\n          font-weight: 400;\n          font-size: 24rpx;\n          color: #6D7278;\n          line-height: 24rpx;\n          text-align: left;\n          font-style: normal;\n        }\n\n        .status-section {\n          display: flex;\n          align-items: center;\n          gap: 16rpx;\n\n          .order-status {\n            font-family: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif;\n            font-weight: 400;\n            font-size: 24rpx;\n            color: #19191A;\n            line-height: 24rpx;\n            text-align: right;\n            font-style: normal;\n\n            &.status-1 {\n              color: #EE781F;\n            }\n\n            &.status-2 {\n              color: #19191A;\n            }\n\n            &.status-3 {\n              color: #19191A;\n            }\n\n            &.status-4 {\n              color: #A2A2A8;\n            }\n\n            &.status-5 {\n              color: #A2A2A8;\n            }\n          }\n\n          .delete-icon {\n            //transition: all 0.3s ease;\n            width: 24rpx;\n            height: 24rpx;\n\n            &:active {\n              background: #f0f0f0;\n              transform: scale(0.9);\n            }\n          }\n\n          .verticalLine {\n            width: 2rpx;\n            height: 31rpx;\n            background: #E8E9EB;\n          }\n        }\n      }\n\n      .order-bg{\n        background: linear-gradient( 180deg, #FCE8D8 0%, rgba(255,255,255,0.5) 100%), #FFFFFF;\n\n      }\n      .line {\n        height: 1rpx;\n        background: #E8E9EB;\n        margin: 40rpx 28rpx 28rpx;\n      }\n\n      .hotel-info {\n        display: flex;\n        align-items: stretch;\n        padding: 0 24rpx 0;\n\n        .hotel-image {\n          width: 120rpx;\n          height: 120rpx;\n          border-radius: 8rpx;\n          margin-right: 20rpx;\n          flex-shrink: 0;\n        }\n\n        .hotel-details {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          min-height: 120rpx;\n\n          .hotel-name {\n            font-size: 28rpx;\n            font-weight: 500;\n            color: #333;\n            margin-bottom: 8rpx;\n          }\n\n          .room-info {\n            font-size: 24rpx;\n            color: #666;\n            margin-bottom: 8rpx;\n          }\n\n          .date-info {\n            font-size: 24rpx;\n            color: #666;\n          }\n        }\n      }\n\n      .bottom-section {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 24rpx 20rpx;\n\n        .price-info {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n\n          .price-label {\n            font-size: 24rpx;\n            color: #666;\n            margin-bottom: 4rpx;\n          }\n\n          .price-amount {\n            font-size: 40rpx;\n            font-weight: 600;\n            color: #ee781f;\n\n            .currency {\n              font-size: 24rpx;\n              font-weight: 400;\n            }\n          }\n        }\n        .order_source{\n          font-family: PingFangSC, PingFang SC,serif;\n          font-weight: 400;\n          font-size: 24rpx;\n          color: #6D7278;\n          line-height: 24rpx;\n          text-align: left;\n          font-style: normal;\n        }\n        .action-buttons {\n          display: flex;\n          align-items: center;\n          gap: 16rpx;\n\n          .btn {\n            box-sizing: border-box;\n            transition: all 0.3s ease;\n            background: #EE781F;\n            border-radius: 36rpx;\n            font-family: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif;\n            font-weight: 400;\n            font-size: 28rpx;\n            color: #FFFFFF;\n            text-align: center;\n            font-style: normal;\n            height: 72rpx;\n            line-height: 72rpx;\n            padding: 0 34rpx;\n\n            &.btn-cancel {\n              position: relative;\n              background: #FFFFFF;\n              color: #19191A;\n              border: none;\n\n              &::after {\n                content: \" \";\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 200%;\n                height: 200%;\n                transform: scale(0.5);\n                transform-origin: 0 0;\n                pointer-events: none;\n                box-sizing: border-box;\n                border: 1px solid #CBCBD5;\n                border-radius: 72rpx;\n              }\n            }\n\n            &.btn-detail {\n              background: #ee781f;\n              color: #fff;\n              border: 1rpx solid #ee781f;\n            }\n\n            &.btn-pay {\n              background: #ee781f;\n              color: #fff;\n              border: 1rpx solid #ee781f;\n            }\n\n            &.btn-review {\n              background: #ee781f;\n              color: #fff;\n              border: 1rpx solid #ee781f;\n            }\n\n            &.btn-rebook {\n              background: #ee781f;\n              color: #fff;\n              border: 1rpx solid #ee781f;\n            }\n\n            /* 按钮点击效果 */\n            &:active {\n              transform: scale(0.95);\n              opacity: 0.8;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /* ---------------- 加载/空状态样式 ---------------- */\n  .load-more-status {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 20rpx 120rpx 20rpx;\n\n    .loading {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      .loading-icon {\n        width: 32rpx;\n        height: 32rpx;\n        border: 3rpx solid #ddd;\n        border-top: 3rpx solid #ff9900;\n        border-radius: 50%;\n        animation: spin 1s linear infinite;\n        margin-right: 16rpx;\n      }\n\n      .loading-text {\n        font-size: 28rpx;\n        color: #666;\n      }\n    }\n\n    .no-more {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n\n      .no-more-line {\n        flex: 1;\n        height: 1rpx;\n        background: linear-gradient(to right, transparent, #e0e0e0, transparent);\n      }\n\n      .no-more-text {\n        font-size: 24rpx;\n        color: #999;\n        padding: 0 30rpx;\n        position: relative;\n      }\n    }\n  }\n\n  /* ---------------- Tab 切换加载遮罩 ---------------- */\n  .tab-loading-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(243, 244, 246, 0.9);\n    backdrop-filter: blur(8rpx);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 10;\n\n    .tab-loading-content {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      background: rgba(255, 255, 255, 0.95);\n      padding: 60rpx 80rpx;\n      border-radius: 20rpx;\n      box-shadow: 0 10rpx 40rpx rgba(0, 0, 0, 0.1);\n\n      .tab-loading-spinner {\n        display: flex;\n        gap: 8rpx;\n        margin-bottom: 24rpx;\n\n        .spinner-ring {\n          width: 12rpx;\n          height: 12rpx;\n          border-radius: 50%;\n          background: linear-gradient(45deg, #ff9900, #ffcc00);\n          animation: spinner-bounce 1.2s infinite ease-in-out;\n\n          &:nth-child(1) {\n            animation-delay: -0.24s;\n          }\n\n          &:nth-child(2) {\n            animation-delay: -0.12s;\n          }\n\n          &:nth-child(3) {\n            animation-delay: 0s;\n          }\n        }\n      }\n\n      .tab-loading-text {\n        font-size: 28rpx;\n        color: #666;\n        font-weight: 500;\n      }\n    }\n  }\n\n  /* 加载时的模糊效果 */\n  .loading-blur {\n    opacity: 0.6;\n    filter: blur(2rpx);\n    transition: all 0.3s ease;\n  }\n\n  @keyframes spinner-bounce {\n    0%, 80%, 100% {\n      transform: scale(0.8);\n      opacity: 0.5;\n    }\n    40% {\n      transform: scale(1.2);\n      opacity: 1;\n    }\n  }\n}\n\n/* 旋转动画 */\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=0ca91b30&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1769665553465\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}