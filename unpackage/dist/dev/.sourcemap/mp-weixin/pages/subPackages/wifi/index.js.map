{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?5495","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?1eec","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?d9d6","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?338d","uni-app:///pages/subPackages/wifi/index.vue","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?0b49","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?bc4d","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?37c3","webpack:////Users/zqs/workSpace/zxd/zxd_member/pages/subPackages/wifi/index.vue?f62d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","hotelId","hotelName","wifiInfo","ssid","password","encryption","isIOS","isAndroid","androidVersion","loading","connecting","showPassword","couponList","isWifiConnected","currentWifiSSID","wifiStatusTimer","computed","buttonText","isButtonDisabled","hotelMainName","hotelSubName","onLoad","uni","frontColor","backgroundColor","title","icon","methods","goBack","checkPlatform","console","platform","system","loadWifiInfo","setupWifiStatusListeners","startWifiStatusPolling","stopWifiStatusPolling","clearInterval","checkWifiStatusUpdate","success","fail","res","newSSID","wasConnectedToTarget","isNowConnectedToTarget","duration","checkCurrentWifiStatus","getHotelName","togglePassword","loadCouponList","page","pageSize","getValidityText","receiveCoupon","item","url","params","registerChannel","formatDate","copyText","handleConnectClick","connectWifi","initWifiAndConnect","errorMsg","connectWifiManual","SSID","maunal","doConnectWifi","isConnected","clearTimeout","timeoutId","partialInfo","showManualOption","content","confirmText","cancelText","onUnload","onShow","onHide"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;AACA;;;AAG1F;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAk1B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACsHt2B;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACAC;MACAC;IACA;;IAEA;IACA;;IAEA;IACA;MACA;IACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IAEA;MACA;MACA;MACA;MACA;IACA;MACA;MACAF;QACAG;QACAC;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;;MAEA;MACA;QACA;QACA;QACAC;MACA;MAEAA;QACAC;QACAC;QACAzB;QACAC;MACA;IACA;IAEA;IACAyB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBAAA;gBAAA;gBAAA,OAEAX;cAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;kBACAG;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAQ;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACAC;QACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,OAKA;kBACAhB;oBACAiB;oBACAC;kBACA;gBACA;cAAA;gBALAC;gBAOAC;gBACAC;gBACAC,2DAEA;gBACA;gBACA;;gBAEA;gBACA;kBACAd;kBACAR;oBACAG;oBACAC;oBACAmB;kBACA;gBACA;gBACA;gBAAA,KACA;kBACAf;kBACAR;oBACAG;oBACAC;oBACAmB;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGA;gBACA;kBACAf;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAgB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAGA;kBACAxB;oBACAiB;oBACAC;kBACA;gBACA;cAAA;gBAAA;gBAAA,OAGA;kBACAlB;oBACAiB;oBACAC;kBACA;gBACA;cAAA;gBALAC;gBAOA;kBACA;kBACA;kBACAX;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAiB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAzB;cAAA;gBAAAmB;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAX;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAkB;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAC;kBACAC;gBACA;cAAA;gBAHAV;gBAIA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAX;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAsB;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACAC;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAIA;kBACAC;kBACAC;oBAAAxD;kBAAA;kBACAyD;kBACAzD;kBACAuC;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BACAjB;gCACAG;8BACA;8BAAA;8BAAA;8BAAA,OAGA;4BAAA;8BACAH;8BACAA;gCACAG;gCACAC;8BACA;;8BAEA;8BACA4B;8BAAA;8BAAA;4BAAA;8BAAA;8BAAA;8BAEAhC;8BACAA;gCACAG;gCACAC;8BACA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CAEA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAgC;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACArC;QACAvB;QACAwC;UACAjB;YACAG;YACAC;UACA;QACA;MACA;IACA;IAEA;IACAkC;MACA;MACA;QACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACAN;QACAC;UAAAxD;QAAA;QACAyD;QACAzD;QACAuC;UACA;UACA;UACA;QACA;MACA;IACA;IAEA;IACAuB;MAAA;MACA;MACAxC;QACAiB;UACAT;UACA;QACA;QACAU;UACAV;UACA;UAEA;UACA;YACA;cACAiC;cACA;YACA;cACAA;cACA;YACA;cACAA;UAAA;UAGAzC;YACAG;YACAC;YACAmB;UACA;QACA;MACA;IACA;IAEA;IACAmB;MAAA;MACA;QAAA7D;QAAAC;MAEA;QACA;QACAkB;UACAG;UACAC;UACAmB;QACA;QACA;MACA;;MAEA;MACAvB;QACAiB;UACAT;UACAR;YACA2C;YACA7D;YACA8D;YAAA;YACA3B;cACAT;cACA;cACAR;gBACAG;gBACAC;gBACAmB;cACA;YACA;YACAL;cACAV;cACA;cAEA;cACA;gBACA;kBACAiC;kBACA;gBACA;kBACAA;kBACA;gBACA;kBACAA;kBACA;gBACA;kBACAA;kBACA;gBACA;kBACAA;cAAA;cAGAzC;gBACAG;gBACAC;gBACAmB;cACA;YACA;UACA;QACA;QACAL;UACAV;UACA;UAEA;UACA;YACA;cACAiC;cACA;YACA;cACAA;cACA;YACA;cACAA;UAAA;UAGAzC;YACAG;YACAC;YACAmB;UACA;QACA;MACA;IACA;IAEA;IACAsB;MAAA;MACA;QAAAhE;QAAAC;;MAEA;MACA;QACA;QACAkB;UACAG;UACAC;UACAmB;QACA;QACA;MACA;MAEA;MACA;;MAEA;MACA;QACAf;QACA;UACAsC;UACA;;UAEA;UACA;YACAC;YACAC;UACA;;UAEA;UACA;UACA;UAEAhD;YACAG;YACAC;UACA;;UAEA;UACAJ;QACA;MACA;MAEAA;MAEAA;QACA2C;QACA7D;QACAmE;QAAA;QACA;QACAhC;UACAT;UACA;UACAwC;YACA;cACAxC;cACA;cACAR;cACAA;gBACAG;gBACAC;gBACAmB;cACA;YACA;UACA;QACA;QACAL;UACAV;UACA;UACAsC;;UAEA;UACA;YACAC;YACAC;UACA;;UAEA;UACAhD;UAEA;UACA;UAEA;YACA;cACA;cACAyC;cACA;YACA;cACAA;cACA;YACA;cACAA;cACA;YACA;cACAA;cACA;YACA;cACAA;cACA;YACA;cACAA;cACA;cACAS;cACA;YACA;cACAT;cACA;cACAS;UAAA;UAGA;YACA;YACAlD;cACAG;cACAgD;cACAC;cACAC;cACApC;gBACA;kBACA;gBACA;cACA;YACA;UACA;YACAjB;cACAG;cACAC;cACAmB;YACA;UACA;QACA;MACA;IACA;EAEA;EACA+B;IACA;IACAtD;IACAA;IACA;IACA;EACA;EAEAuD;IACA;IACA;MACA;MACA;MACA;IACA;EACA;EAEAC;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzvBA;AAAA;AAAA;AAAA;AAAqlD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACAzmD;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAqlD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACAzmD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/subPackages/wifi/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/subPackages/wifi/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=532c4413&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=532c4413&lang=scss&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=532c4413&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"532c4413\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/subPackages/wifi/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=532c4413&scoped=true&\"","var components\ntry {\n  components = {\n    uniNavBar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-empty/u-empty\" */ \"uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. ÊéíÊü•ÁªÑ‰ª∂ÂêçÁß∞ÊãºÂÜôÊòØÂê¶Ê≠£Á°Æ\")\n    console.error(\n      \"2. ÊéíÊü•ÁªÑ‰ª∂ÊòØÂê¶Á¨¶Âêà easycom ËßÑËåÉÔºåÊñáÊ°£Ôºöhttps://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. Ëã•ÁªÑ‰ª∂‰∏çÁ¨¶Âêà easycom ËßÑËåÉÔºåÈúÄÊâãÂä®ÂºïÂÖ•ÔºåÂπ∂Âú® components ‰∏≠Ê≥®ÂÜåËØ•ÁªÑ‰ª∂\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !_vm.loading && _vm.wifiInfo.ssid\n      ? _vm.__map(_vm.couponList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m0 = _vm.getValidityText(item)\n          return {\n            $orig: $orig,\n            m0: m0,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"wifi-container\">\n    <!-- ÂØºËà™Ê†è -->\n    <uni-nav-bar\n        backgroundColor=\"transparent\"\n        color=\"#FFFFFF\"\n        :fixed=\"true\"\n        :shadow=\"false\"\n        :border=\"false\"\n        status-bar\n        left-icon=\"left\"\n        @clickLeft=\"goBack\"\n    >\n      <template #default>\n        <text class=\"nav-title\">WiFiËøûÊé•</text>\n      </template>\n    </uni-nav-bar>\n\n    <!-- ÂÜÖÂÆπÂå∫Âüü -->\n    <view class=\"content\">\n      <!-- Âä†ËΩΩ‰∏≠ -->\n      <view v-if=\"loading\" class=\"loading-container\">\n        <view class=\"loading-spinner\">\n          <view class=\"spinner-ring\"></view>\n          <view class=\"spinner-ring\"></view>\n          <view class=\"spinner-ring\"></view>\n        </view>\n        <text class=\"loading-text\">Âä†ËΩΩ‰∏≠...</text>\n      </view>\n\n      <!-- WiFi‰ø°ÊÅØÂç°Áâá -->\n      <view v-else-if=\"wifiInfo.ssid\" class=\"cards-container\">\n        <view class=\"wifi-card\">\n          <!-- WiFiÂõæÊ†á -->\n          <view class=\"wifi-icon\">\n            <view class=\"icon-bg\">\n              <u-icon name=\"wifi\" size=\"64\" color=\"#ffffff\"></u-icon>\n            </view>\n            <view class=\"pulse-ring\"></view>\n          </view>\n\n          <!-- ÈÖíÂ∫óÂêçÁß∞ -->\n          <view v-if=\"hotelName\" class=\"hotel-name\">\n            <text class=\"main-name\">{{ hotelMainName }}</text>\n            <text v-if=\"hotelSubName\" class=\"sub-name\">{{ hotelSubName }}</text>\n            <text class=\"welcome-text\">Ê¨¢ËøéÊÇ®ËøûÊé•</text>\n          </view>\n\n          <!-- ËøûÊé•ÊåâÈíÆ -->\n          <view class=\"connect-section\">\n            <view\n                class=\"connect-btn\"\n                :class=\"{ \n                  'connecting': connecting,\n                  'connected': isWifiConnected && currentWifiSSID === wifiInfo.ssid\n                }\"\n                @click=\"handleConnectClick\"\n            >\n              <view v-if=\"connecting\" class=\"btn-loading\">\n                <view class=\"btn-spinner\"></view>\n              </view>\n              <view v-else-if=\"isWifiConnected && currentWifiSSID === wifiInfo.ssid\" class=\"connected-icon\">\n                ‚úì\n              </view>\n              <text>{{ buttonText }}</text>\n            </view>\n          </view>\n        </view>\n\n        <!-- Á∫¢ÂåÖÂàóË°® -->\n        <view v-for=\"(item, index) in couponList\" :key=\"item.id\" class=\"coupon-card\">\n          <view class=\"coupon-header\">\n            <view class=\"coupon-icon\">üéÅ</view>\n            <view class=\"coupon-title\">\n              <text class=\"title-text\">{{ item.name }}</text>\n              <text class=\"subtitle-text\">{{ getValidityText(item) }}</text>\n            </view>\n          </view>\n          <view class=\"coupon-content\">\n            <view class=\"coupon-amount\">\n              <template v-if=\"item.type === 1\">\n                <text class=\"amount-symbol\">¬•</text>\n                <text class=\"amount-value\">{{ item.amount }}</text>\n              </template>\n              <template v-else>\n                <text class=\"amount-value\">{{ item.amount }}</text>\n                <text class=\"amount-symbol\">Êäò</text>\n              </template>\n            </view>\n            <view class=\"coupon-desc\">\n              <text v-if=\"item.minSpend > 0\" class=\"desc-tag\">\n                Êª°{{ item.minSpend }}ÂÖÉÂèØÁî®\n              </text>\n              <text v-else class=\"desc-tag\">Êó†Èó®ÊßõÁ´ãÂáè</text>\n            </view>\n          </view>\n          <view class=\"coupon-tags\">\n            <text v-if=\"item.scopeType === 1\" class=\"tag\">ÂÖ®ÈÉ®Èó®Â∫óÂèØÁî®</text>\n            <text v-else class=\"tag\">ÊåáÂÆöÈó®Â∫óÂèØÁî®</text>\n            <text v-if=\"item.redPacketRule && item.redPacketRule.stayDays > 0\" class=\"tag\">\n              ËøûÁª≠{{ item.redPacketRule.stayDays }}ÊôöÂèä‰ª•‰∏ä\n            </text>\n          </view>\n          <view class=\"coupon-btn\" :class=\"{ 'btn-disabled': !item.canReceive }\" @click=\"receiveCoupon(item)\">\n            <text>{{ item.canReceive ? 'Á´ãÂç≥È¢ÜÂèñ' : 'Â∑≤È¢ÜÂèñ' }}</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- Êó†Êï∞ÊçÆ -->\n      <view v-else class=\"empty-container\">\n        <u-empty mode=\"data\" text=\"ÊöÇÊó†WiFiÈÖçÁΩÆ‰ø°ÊÅØ\"></u-empty>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport {pageBack} from \"../../../common/redirect\";\nimport {getWifiCoupons, receiveRedEnvelope} from \"../../../common/api\";\nimport {handleLoginRequired, isLoggedIn} from \"../../../common/auth\";\n\nexport default {\n  data() {\n    return {\n      hotelId: null,\n      hotelName: '',\n      wifiInfo: {\n        ssid: '',\n        password: '',\n        encryption: 'WPA'\n      },\n      isIOS: false,\n      isAndroid: false,\n      androidVersion: 0,\n      loading: true,\n      connecting: false,\n      showPassword: false, // ÊéßÂà∂ÂØÜÁ†ÅÊòæÁ§∫/ÈöêËóè\n      couponList: [], // Á∫¢ÂåÖÂàóË°®\n      isWifiConnected: false, // WiFiËøûÊé•Áä∂ÊÄÅ\n      currentWifiSSID: '', // ÂΩìÂâçËøûÊé•ÁöÑWiFiÂêçÁß∞\n      wifiStatusTimer: null, // WiFiÁä∂ÊÄÅÊ£ÄÊü•ÂÆöÊó∂Âô®\n    }\n  },\n  computed: {\n    buttonText() {\n      if (this.connecting) {\n        return 'ËøûÊé•‰∏≠...'\n      }\n      if (this.isWifiConnected && this.currentWifiSSID === this.wifiInfo.ssid) {\n        return 'Â∑≤ËøûÊé•'\n      }\n      return '‰∏ÄÈîÆËøûÊé•WiFi'\n    },\n    \n    // ÊåâÈíÆÊòØÂê¶ÂèØÁÇπÂáª\n    isButtonDisabled() {\n      return this.connecting || (this.isWifiConnected && this.currentWifiSSID === this.wifiInfo.ssid)\n    },\n    // ÈÖíÂ∫ó‰∏ªÂêçÁß∞Ôºà‰∏çÂåÖÂê´Êã¨Âè∑ÂÜÖÂÆπÔºâ\n    hotelMainName() {\n      if (!this.hotelName) return ''\n      // ÂåπÈÖçÔºà Êàñ ( ÂâçÈù¢ÁöÑÂÜÖÂÆπ\n      const match = this.hotelName.match(/^(.*?)[Ôºà(]/)\n      return match ? match[1] : this.hotelName\n    },\n    // ÈÖíÂ∫óÂàÜÂ∫óÂêçÁß∞ÔºàÊã¨Âè∑ÂÜÖÂÆπÔºâ\n    hotelSubName() {\n      if (!this.hotelName) return ''\n      // ÂåπÈÖçÔºà Êàñ ( ÂºÄÂßãÁöÑÂÜÖÂÆπ\n      const match = this.hotelName.match(/[Ôºà(].*/)\n      return match ? match[0] : ''\n    }\n  },\n  onLoad(options) {\n    // ËÆæÁΩÆÁä∂ÊÄÅÊ†è‰∏∫ÁôΩËâ≤\n    uni.setNavigationBarColor({\n      frontColor: '#ffffff',\n      backgroundColor: '#EE781F'\n    });\n\n    // Ê£ÄÊµãÂπ≥Âè∞\n    this.checkPlatform()\n\n    // Ëé∑ÂèñÈÖíÂ∫óID\n    if (options.hotelId) {\n      this.hotelId = options.hotelId\n    } else if (options.scene) {\n      // ‰ªéÂ∞èÁ®ãÂ∫èÁ†ÅsceneÂèÇÊï∞‰∏≠Ëß£Êûê\n      const scene = decodeURIComponent(options.scene)\n      const match = scene.match(/hotelId=(\\d+)/)\n      if (match) {\n        this.hotelId = match[1]\n      }\n    }\n\n    if (this.hotelId) {\n      this.loadWifiInfo()\n      this.loadCouponList()\n      // Ê∑ªÂä†WiFiÁä∂ÊÄÅÁõëÂê¨\n      this.setupWifiStatusListeners()\n    } else {\n      this.loading = false\n      uni.showToast({\n        title: 'ÂèÇÊï∞ÈîôËØØ',\n        icon: 'none'\n      })\n    }\n  },\n  methods: {\n    // ËøîÂõû\n    goBack() {\n      pageBack()\n    },\n\n    // Ê£ÄÊµãÂπ≥Âè∞\n    checkPlatform() {\n      const systemInfo = uni.getSystemInfoSync()\n      this.isIOS = systemInfo.platform === 'ios'\n      this.isAndroid = systemInfo.platform === 'android'\n\n      // Ëé∑ÂèñAndroidÁâàÊú¨Âè∑\n      if (this.isAndroid) {\n        const version = systemInfo.system.match(/Android (\\d+)/)\n        this.androidVersion = version ? parseInt(version[1]) : 0\n        console.log('AndroidÁâàÊú¨:', this.androidVersion)\n      }\n\n      console.log('Âπ≥Âè∞‰ø°ÊÅØ:', {\n        platform: systemInfo.platform,\n        system: systemInfo.system,\n        isAndroid: this.isAndroid,\n        androidVersion: this.androidVersion\n      })\n    },\n\n    // Âä†ËΩΩWiFi‰ø°ÊÅØ\n    async loadWifiInfo() {\n      this.loading = true\n      try {\n        this.wifiInfo = await uni.$u.http.get(`/hotel-adapter/hotel-wifi/hotel/${this.hotelId}`)\n        await this.getHotelName()\n        // Âä†ËΩΩWiFi‰ø°ÊÅØÂêéÊ£ÄÊü•ËøûÊé•Áä∂ÊÄÅ\n        await this.checkCurrentWifiStatus()\n      } catch (error) {\n        uni.showToast({\n          title: 'Êú™ÈÖçÁΩÆWiFi‰ø°ÊÅØ',\n          icon: 'none'\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n\n    // ËÆæÁΩÆWiFiÁä∂ÊÄÅÁõëÂê¨\n    setupWifiStatusListeners() {\n      // ÁõëÂê¨WiFiËøûÊé•Êñ≠ÂºÄ‰∫ã‰ª∂ÔºàÂ¶ÇÊûúÊúâÁöÑËØùÔºâ\n      // Ê≥®ÊÑèÔºöUniAppÂèØËÉΩÊ≤°ÊúâÁõ¥Êé•ÁöÑWiFiÊñ≠ÂºÄÁõëÂê¨API\n      // Êàë‰ª¨ÂèØ‰ª•ÂÆöÊúüÊ£ÄÊü•WiFiÁä∂ÊÄÅ\n      this.startWifiStatusPolling()\n    },\n\n    // ÂºÄÂßãWiFiÁä∂ÊÄÅËΩÆËØ¢\n    startWifiStatusPolling() {\n      // ÊØè10ÁßíÊ£ÄÊü•‰∏ÄÊ¨°WiFiÁä∂ÊÄÅ\n      this.wifiStatusTimer = setInterval(() => {\n        this.checkWifiStatusUpdate()\n      }, 10000)\n    },\n\n    // ÂÅúÊ≠¢WiFiÁä∂ÊÄÅËΩÆËØ¢\n    stopWifiStatusPolling() {\n      if (this.wifiStatusTimer) {\n        clearInterval(this.wifiStatusTimer)\n        this.wifiStatusTimer = null\n      }\n    },\n\n    // Ê£ÄÊü•WiFiÁä∂ÊÄÅÊõ¥Êñ∞\n    async checkWifiStatusUpdate() {\n      // Âè™ÊúâÂú®WiFi‰ø°ÊÅØÂä†ËΩΩÂÆåÊàêÂêéÊâçÊ£ÄÊü•\n      if (!this.wifiInfo.ssid) {\n        return\n      }\n\n      try {\n        const res = await new Promise((resolve, reject) => {\n          uni.getConnectedWifi({\n            success: resolve,\n            fail: reject\n          })\n        })\n\n        const newSSID = res.wifi ? res.wifi.SSID : ''\n        const wasConnectedToTarget = this.isWifiConnected && this.currentWifiSSID === this.wifiInfo.ssid\n        const isNowConnectedToTarget = newSSID === this.wifiInfo.ssid\n\n        // Êõ¥Êñ∞Áä∂ÊÄÅ\n        this.currentWifiSSID = newSSID\n        this.isWifiConnected = !!newSSID\n\n        // Â¶ÇÊûú‰πãÂâçËøûÊé•Âà∞ÁõÆÊ†áWiFiÔºåÁé∞Âú®Êñ≠ÂºÄ‰∫ÜÔºåÊòæÁ§∫ÊèêÁ§∫\n        if (wasConnectedToTarget && !isNowConnectedToTarget) {\n          console.log('WiFiËøûÊé•Â∑≤Êñ≠ÂºÄ')\n          uni.showToast({\n            title: 'WiFiËøûÊé•Â∑≤Êñ≠ÂºÄ',\n            icon: 'none',\n            duration: 2000\n          })\n        }\n        // Â¶ÇÊûúÈáçÊñ∞ËøûÊé•Âà∞ÁõÆÊ†áWiFiÔºåÊòæÁ§∫ÊèêÁ§∫\n        else if (!wasConnectedToTarget && isNowConnectedToTarget) {\n          console.log('WiFiÂ∑≤ÈáçÊñ∞ËøûÊé•')\n          uni.showToast({\n            title: 'WiFiÂ∑≤ËøûÊé•',\n            icon: 'success',\n            duration: 2000\n          })\n        }\n\n      } catch (error) {\n        // WiFiËé∑ÂèñÂ§±Ë¥•ÔºåÂèØËÉΩÊòØÊñ≠ÂºÄ‰∫Ü\n        if (this.isWifiConnected) {\n          console.log('WiFiÁä∂ÊÄÅÊ£ÄÊü•Â§±Ë¥•ÔºåÂèØËÉΩÂ∑≤Êñ≠ÂºÄ')\n          this.isWifiConnected = false\n          this.currentWifiSSID = ''\n        }\n      }\n    },\n\n    // Ê£ÄÊü•ÂΩìÂâçWiFiËøûÊé•Áä∂ÊÄÅ\n    async checkCurrentWifiStatus() {\n      try {\n        // ÂÖàÂàùÂßãÂåñWiFiÊ®°Âùó\n        await new Promise((resolve, reject) => {\n          uni.startWifi({\n            success: resolve,\n            fail: reject\n          })\n        })\n\n        // Ëé∑ÂèñÂΩìÂâçËøûÊé•ÁöÑWiFi‰ø°ÊÅØ\n        const res = await new Promise((resolve, reject) => {\n          uni.getConnectedWifi({\n            success: resolve,\n            fail: reject\n          })\n        })\n\n        if (res.wifi && res.wifi.SSID) {\n          this.currentWifiSSID = res.wifi.SSID\n          this.isWifiConnected = true\n          console.log('ÂΩìÂâçËøûÊé•ÁöÑWiFi:', res.wifi.SSID)\n          console.log('ÁõÆÊ†áWiFi:', this.wifiInfo.ssid)\n        }\n      } catch (error) {\n        console.log('Ëé∑ÂèñWiFiÁä∂ÊÄÅÂ§±Ë¥•:', error)\n        this.isWifiConnected = false\n        this.currentWifiSSID = ''\n      }\n    },\n\n    // Ëé∑ÂèñÈÖíÂ∫óÂêçÁß∞(ÂèØÈÄâ)\n    async getHotelName() {\n      try {\n        const res = await uni.$u.http.get(`/hotel-stores/hotels/${this.hotelId}`)\n        this.hotelName = res.name\n      } catch (error) {\n        console.error('Ëé∑ÂèñÈÖíÂ∫óÂêçÁß∞Â§±Ë¥•', error)\n      }\n    },\n\n    // ÂàáÊç¢ÂØÜÁ†ÅÊòæÁ§∫/ÈöêËóè\n    togglePassword() {\n      this.showPassword = !this.showPassword\n    },\n\n    // Âä†ËΩΩÁ∫¢ÂåÖÂàóË°®\n    async loadCouponList() {\n      try {\n        const res = await getWifiCoupons({\n          page: 1,\n          pageSize: 10\n        })\n        if (res && res.records && res.records.length > 0) {\n          this.couponList = res.records\n        }\n      } catch (error) {\n        console.error('Âä†ËΩΩÁ∫¢ÂåÖÂàóË°®Â§±Ë¥•', error)\n      }\n    },\n\n    getValidityText(item) {\n      if (item.validityPeriodType === 1) {\n        return `È¢ÜÂèñÂêé${item.duration}Â§©ÊúâÊïà`\n      }\n      return `ÊúâÊïàÊúü${this.formatDate(item.startTime)}-${this.formatDate(item.endTime)}`\n    },\n\n    // È¢ÜÂèñÁ∫¢ÂåÖ\n    async receiveCoupon(item) {\n      if (!item.canReceive) {\n        return\n      }\n\n      await handleLoginRequired({\n        url: '/pages/subPackages/wifi/index',\n        params: {hotelId: this.hotelId},\n        registerChannel: 'WIFI‰∫åÁª¥Á†Å',\n        hotelId: this.hotelId,\n        success: async () => {\n          uni.showLoading({\n            title: 'È¢ÜÂèñ‰∏≠...'\n          })\n\n          try {\n            await receiveRedEnvelope(item.id)\n            uni.hideLoading()\n            uni.showToast({\n              title: 'È¢ÜÂèñÊàêÂäü',\n              icon: 'success'\n            })\n\n            // È¢ÜÂèñÊàêÂäüÂêéÔºåÊõ¥Êñ∞Áä∂ÊÄÅ\n            item.canReceive = false\n          } catch (error) {\n            uni.hideLoading()\n            uni.showToast({\n              title: error.message || 'È¢ÜÂèñÂ§±Ë¥•',\n              icon: 'none'\n            })\n          }\n        }\n      })\n    },\n\n    // Ê†ºÂºèÂåñÊó•Êúü\n    formatDate(dateStr) {\n      if (!dateStr) return ''\n      const date = new Date(dateStr)\n      const month = date.getMonth() + 1\n      const day = date.getDate()\n      return `${month}.${day}`\n    },\n\n    // Â§çÂà∂ÊñáÊú¨\n    copyText(text) {\n      uni.setClipboardData({\n        data: text,\n        success: () => {\n          uni.showToast({\n            title: 'Â§çÂà∂ÊàêÂäü',\n            icon: 'success'\n          })\n        }\n      })\n    },\n\n    // Â§ÑÁêÜËøûÊé•ÊåâÈíÆÁÇπÂáª\n    handleConnectClick() {\n      // Â¶ÇÊûúÂ∑≤ÁªèËøûÊé•Âà∞ÁõÆÊ†áWiFiÔºå‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú\n      if (this.isWifiConnected && this.currentWifiSSID === this.wifiInfo.ssid) {\n        return\n      }\n      // Âê¶ÂàôÊâßË°åËøûÊé•\n      this.connectWifi()\n    },\n\n    // ËøûÊé•WiFi\n    connectWifi() {\n      handleLoginRequired({\n        url: '/pages/subPackages/wifi/index',\n        params: {hotelId: this.hotelId},\n        registerChannel: 'WIFI‰∫åÁª¥Á†Å',\n        hotelId: this.hotelId,\n        success: () => {\n          this.connecting = true\n          // ‰ºòÂÖàÂ∞ùËØïÁõ¥ËøûÔºåÂ¶ÇÊûúÂ§±Ë¥•ÂÜçËÄÉËôëÊâãÂä®ËøûÊé•\n          this.initWifiAndConnect()\n        }\n      })\n    },\n\n    // ÂàùÂßãÂåñWiFiÂπ∂ËøûÊé•\n    initWifiAndConnect() {\n      // 1. ÂàùÂßãÂåñWiFiÊ®°Âùó\n      uni.startWifi({\n        success: () => {\n          console.log('WiFiÊ®°ÂùóÂàùÂßãÂåñÊàêÂäü')\n          this.doConnectWifi()\n        },\n        fail: (err) => {\n          console.error('WiFiÊ®°ÂùóÂàùÂßãÂåñÂ§±Ë¥•', err)\n          this.connecting = false\n\n          let errorMsg = 'ÂàùÂßãÂåñÂ§±Ë¥•'\n          switch (err.errCode) {\n            case 12001:\n              errorMsg = 'ÂΩìÂâçÁ≥ªÁªü‰∏çÊîØÊåÅWiFiÂäüËÉΩ'\n              break\n            case 12005:\n              errorMsg = 'ËØ∑ÂÖàÂºÄÂêØÊâãÊú∫WiFiÂäüËÉΩ'\n              break\n            default:\n              errorMsg = `WiFiÊ®°ÂùóÂàùÂßãÂåñÂ§±Ë¥• (ÈîôËØØÁ†Å: ${err.errCode})`\n          }\n\n          uni.showToast({\n            title: errorMsg,\n            icon: 'none',\n            duration: 3000\n          })\n        }\n      })\n    },\n\n    // ÊâãÂä®ËøûÊé•WiFi (Android 10+)\n    connectWifiManual() {\n      const {ssid, password} = this.wifiInfo\n\n      if (!ssid || !password) {\n        this.connecting = false\n        uni.showToast({\n          title: 'WiFiÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂÆåÊï¥',\n          icon: 'none',\n          duration: 3000\n        })\n        return\n      }\n\n      // ÂÖàÂàùÂßãÂåñWiFiÊ®°Âùó\n      uni.startWifi({\n        success: () => {\n          console.log('WiFiÊ®°ÂùóÂàùÂßãÂåñÊàêÂäüÔºåÂºÄÂßãÊâãÂä®ËøûÊé•')\n          uni.connectWifi({\n            SSID: ssid,\n            password: password,\n            maunal: true, // Ë∑≥ËΩ¨Âà∞Á≥ªÁªüËÆæÁΩÆÈ°µËøõË°åËøûÊé•\n            success: () => {\n              console.log('Ë∑≥ËΩ¨Âà∞Á≥ªÁªüWiFiËÆæÁΩÆÊàêÂäü')\n              this.connecting = false\n              uni.showToast({\n                title: 'ËØ∑Âú®Á≥ªÁªüËÆæÁΩÆ‰∏≠ÂÆåÊàêWiFiËøûÊé•',\n                icon: 'none',\n                duration: 3000\n              })\n            },\n            fail: (err) => {\n              console.error('Ë∑≥ËΩ¨WiFiËÆæÁΩÆÂ§±Ë¥•', err)\n              this.connecting = false\n\n              let errorMsg = 'Êó†Ê≥ïË∑≥ËΩ¨Âà∞WiFiËÆæÁΩÆ'\n              switch (err.errCode) {\n                case 12000:\n                  errorMsg = 'Êú™ÂÖàË∞ÉÁî®startWifiÊé•Âè£'\n                  break\n                case 12001:\n                  errorMsg = 'ÂΩìÂâçÁ≥ªÁªü‰∏çÊîØÊåÅWiFiÂäüËÉΩ'\n                  break\n                case 12002:\n                  errorMsg = 'WiFiÂØÜÁ†ÅÈîôËØØ'\n                  break\n                case 12005:\n                  errorMsg = 'ËØ∑ÂÖàÂºÄÂêØÊâãÊú∫WiFiÂäüËÉΩ'\n                  break\n                default:\n                  errorMsg = `Ë∑≥ËΩ¨Â§±Ë¥• (ÈîôËØØÁ†Å: ${err.errCode})`\n              }\n\n              uni.showToast({\n                title: errorMsg,\n                icon: 'none',\n                duration: 3000\n              })\n            }\n          })\n        },\n        fail: (err) => {\n          console.error('WiFiÊ®°ÂùóÂàùÂßãÂåñÂ§±Ë¥•', err)\n          this.connecting = false\n\n          let errorMsg = 'ÂàùÂßãÂåñÂ§±Ë¥•'\n          switch (err.errCode) {\n            case 12001:\n              errorMsg = 'ÂΩìÂâçÁ≥ªÁªü‰∏çÊîØÊåÅWiFiÂäüËÉΩ'\n              break\n            case 12005:\n              errorMsg = 'ËØ∑ÂÖàÂºÄÂêØÊâãÊú∫WiFiÂäüËÉΩ'\n              break\n            default:\n              errorMsg = `WiFiÊ®°ÂùóÂàùÂßãÂåñÂ§±Ë¥• (ÈîôËØØÁ†Å: ${err.errCode})`\n          }\n\n          uni.showToast({\n            title: errorMsg,\n            icon: 'none',\n            duration: 3000\n          })\n        }\n      })\n    },\n\n    // ÊâßË°åËøûÊé•WiFi (Áõ¥ËøûÊ®°Âºè)\n    doConnectWifi() {\n      const {ssid, password} = this.wifiInfo\n\n      // ÂÖàÊ£ÄÊü•WiFi‰ø°ÊÅØÊòØÂê¶ÊúâÊïà\n      if (!ssid || !password) {\n        this.connecting = false\n        uni.showToast({\n          title: 'WiFiÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂÆåÊï¥',\n          icon: 'none',\n          duration: 3000\n        })\n        return\n      }\n\n      let timeoutId = null\n      let isConnected = false\n\n      // Ê∑ªÂä†WiFiËøûÊé•ÁõëÂê¨\n      const onWifiConnectedHandler = (res) => {\n        console.log('WiFiËøûÊé•ÊàêÂäüÁõëÂê¨:', res)\n        if (res.wifi && res.wifi.SSID === ssid && !isConnected) {\n          isConnected = true\n          this.connecting = false\n\n          // Ê∏ÖÈô§Ë∂ÖÊó∂ÂÆöÊó∂Âô®\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = null\n          }\n\n          // Êõ¥Êñ∞ËøûÊé•Áä∂ÊÄÅ\n          this.isWifiConnected = true\n          this.currentWifiSSID = res.wifi.SSID\n\n          uni.showToast({\n            title: 'ËøûÊé•ÊàêÂäü',\n            icon: 'success'\n          })\n          \n          // ÁßªÈô§ÁõëÂê¨\n          uni.offWifiConnected(onWifiConnectedHandler)\n        }\n      }\n\n      uni.onWifiConnected(onWifiConnectedHandler)\n\n      uni.connectWifi({\n        SSID: ssid,\n        password: password,\n        partialInfo: this.isAndroid, // AndroidÂπ≥Âè∞ËøîÂõûÈÉ®ÂàÜ‰ø°ÊÅØ\n        // Â∞ùËØïÊ∑ªÂä†‰∏Ä‰∫õÂèÇÊï∞Êù•ÊèêÈ´òËøûÊé•Á®≥ÂÆöÊÄß\n        success: () => {\n          console.log('WiFiËøûÊé•ËØ∑Ê±ÇÂèëÈÄÅÊàêÂäü')\n          // ËÆæÁΩÆË∂ÖÊó∂ÔºåÂ¶ÇÊûú5ÁßíÂÜÖÊ≤°ÊúâËøûÊé•ÊàêÂäüÂõûË∞ÉÔºåÂàôËÆ§‰∏∫ËøûÊé•Â§±Ë¥•\n          timeoutId = setTimeout(() => {\n            if (this.connecting && !isConnected) {\n              console.log('WiFiËøûÊé•Ë∂ÖÊó∂')\n              this.connecting = false\n              uni.offWifiConnected(onWifiConnectedHandler)\n              uni.showToast({\n                title: 'ËøûÊé•Ë∂ÖÊó∂ÔºåËØ∑ÈáçËØï',\n                icon: 'none',\n                duration: 3000\n              })\n            }\n          }, 5000)\n        },\n        fail: (err) => {\n          console.error('WiFiËøûÊé•Â§±Ë¥•', err)\n          this.connecting = false\n          isConnected = true // Èò≤Ê≠¢Ë∂ÖÊó∂ÊèêÁ§∫\n\n          // Ê∏ÖÈô§Ë∂ÖÊó∂ÂÆöÊó∂Âô®\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = null\n          }\n\n          // ÁßªÈô§ÁõëÂê¨\n          uni.offWifiConnected(onWifiConnectedHandler)\n\n          let errorMsg = 'ËøûÊé•Â§±Ë¥•'\n          let showManualOption = false\n\n          switch (err.errCode) {\n            case 0:\n              // Ê≠£Â∏∏ÊÉÖÂÜµÔºå‰∏çÂ∫îËØ•ËøõÂÖ•failÂõûË∞É\n              errorMsg = 'Êìç‰ΩúÊ≠£Â∏∏'\n              break\n            case 12000:\n              errorMsg = 'Êú™ÂÖàË∞ÉÁî®startWifiÊé•Âè£'\n              break\n            case 12001:\n              errorMsg = 'ÂΩìÂâçÁ≥ªÁªü‰∏çÊîØÊåÅWiFiÂäüËÉΩ'\n              break\n            case 12002:\n              errorMsg = 'WiFiÂØÜÁ†ÅÈîôËØØÔºåËØ∑ËÅîÁ≥ªÈÖíÂ∫óÂâçÂè∞'\n              break\n            case 12005:\n              errorMsg = 'ËØ∑ÂÖàÂºÄÂêØÊâãÊú∫WiFiÂäüËÉΩ'\n              break\n            case 12013:\n              errorMsg = 'WiFiÈÖçÁΩÆÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ËøûÊé•'\n              // AndroidËÆæÂ§áÂèØ‰ª•Â∞ùËØïÊâãÂä®ËøûÊé•\n              showManualOption = this.isAndroid\n              break\n            default:\n              errorMsg = `ËøûÊé•Â§±Ë¥• (ÈîôËØØÁ†Å: ${err.errCode})`\n              // ÂØπ‰∫éÊú™Áü•ÈîôËØØÔºåAndroidËÆæÂ§áÂèØ‰ª•Â∞ùËØïÊâãÂä®ËøûÊé•\n              showManualOption = this.isAndroid\n          }\n\n          if (showManualOption) {\n            // ÊòæÁ§∫ÊâãÂä®ËøûÊé•ÈÄâÈ°π\n            uni.showModal({\n              title: 'ËøûÊé•Â§±Ë¥•',\n              content: errorMsg + 'ÔºåÊòØÂê¶Â∞ùËØïË∑≥ËΩ¨Âà∞Á≥ªÁªüWiFiËÆæÁΩÆÊâãÂä®ËøûÊé•Ôºü',\n              confirmText: 'ÊâãÂä®ËøûÊé•',\n              cancelText: 'ÂèñÊ∂à',\n              success: (res) => {\n                if (res.confirm) {\n                  this.connectWifiManual()\n                }\n              }\n            })\n          } else {\n            uni.showToast({\n              title: errorMsg,\n              icon: 'none',\n              duration: 3000\n            })\n          }\n        }\n      })\n    },\n\n  },\n  onUnload() {\n    // È°µÈù¢Âç∏ËΩΩÊó∂ÂÅúÊ≠¢WiFiÊ®°ÂùóÂíåÁßªÈô§ÁõëÂê¨\n    uni.stopWifi()\n    uni.offWifiConnected()\n    // ÂÅúÊ≠¢WiFiÁä∂ÊÄÅËΩÆËØ¢\n    this.stopWifiStatusPolling()\n  },\n  \n  onShow() {\n    // È°µÈù¢ÊòæÁ§∫Êó∂ÈáçÊñ∞ÂºÄÂßãWiFiÁä∂ÊÄÅÊ£ÄÊü•\n    if (this.wifiInfo.ssid && !this.wifiStatusTimer) {\n      this.startWifiStatusPolling()\n      // Á´ãÂç≥Ê£ÄÊü•‰∏ÄÊ¨°Áä∂ÊÄÅ\n      this.checkWifiStatusUpdate()\n    }\n  },\n  \n  onHide() {\n    // È°µÈù¢ÈöêËóèÊó∂ÂÅúÊ≠¢ËΩÆËØ¢‰ª•ËäÇÁúÅËµÑÊ∫ê\n    this.stopWifiStatusPolling()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.nav-title {\n  width: 100%;\n  font-family: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif;\n  font-weight: 500;\n  font-size: 32rpx;\n  color: #FFFFFF;\n  text-align: center;\n  height: 88rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.wifi-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #FF9A56 0%, #EE781F 100%);\n}\n\n.content {\n  padding: 32rpx 24rpx;\n}\n\n.cards-container {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n}\n\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 200rpx 0;\n\n  .loading-spinner {\n    display: flex;\n    gap: 8rpx;\n    margin-bottom: 20rpx;\n\n    .spinner-ring {\n      width: 12rpx;\n      height: 12rpx;\n      background: #ffffff;\n      border-radius: 50%;\n      animation: bounce 1.4s infinite ease-in-out both;\n\n      &:nth-child(1) {\n        animation-delay: -0.32s;\n      }\n\n      &:nth-child(2) {\n        animation-delay: -0.16s;\n      }\n    }\n  }\n\n  .loading-text {\n    font-size: 28rpx;\n    color: #ffffff;\n  }\n}\n\n@keyframes bounce {\n  0%, 80%, 100% {\n    transform: scale(0);\n    opacity: 0.5;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.wifi-card {\n  background: #ffffff;\n  border-radius: 24rpx;\n  padding: 60rpx 40rpx;\n  box-shadow: 0 8rpx 24rpx rgba(238, 120, 31, 0.15);\n  margin-bottom: 24rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.wifi-icon {\n  position: relative;\n  width: 120rpx;\n  height: 120rpx;\n  margin-bottom: 40rpx;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .icon-bg {\n    width: 100%;\n    height: 100%;\n    background: #EE781F;\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n    box-shadow: 0 8rpx 16rpx rgba(238, 120, 31, 0.3);\n  }\n\n  .pulse-ring {\n    position: absolute;\n    top: -10rpx;\n    left: -10rpx;\n    right: -10rpx;\n    bottom: -10rpx;\n    border: 4rpx solid #EE781F;\n    border-radius: 50%;\n    opacity: 0;\n    animation: pulse 2s infinite;\n    z-index: 1;\n  }\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n    opacity: 0.5;\n  }\n  100% {\n    transform: scale(1.5);\n    opacity: 0;\n  }\n}\n\n.hotel-name {\n  text-align: center;\n  margin-bottom: 48rpx;\n  padding: 0 20rpx;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .main-name {\n    font-size: 36rpx;\n    font-weight: bold;\n    color: #333;\n    margin-bottom: 8rpx;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    line-clamp: 2;\n    overflow: hidden;\n    word-break: break-all;\n  }\n\n  .sub-name {\n    font-size: 28rpx;\n    color: #666;\n    margin-bottom: 12rpx;\n    font-weight: normal;\n  }\n\n  .welcome-text {\n    font-size: 26rpx;\n    color: #999;\n    font-weight: normal;\n    margin-top: 4rpx;\n  }\n}\n\n.connect-section {\n  width: 100%;\n  margin-top: 0;\n}\n\n.connect-btn {\n  width: 100%;\n  height: 88rpx;\n  background: linear-gradient(135deg, #FF9A56 0%, #EE781F 100%);\n  border-radius: 44rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32rpx;\n  color: #ffffff;\n  font-weight: 500;\n  box-shadow: 0 8rpx 20rpx rgba(238, 120, 31, 0.25);\n  transition: all 0.3s;\n\n  &.connecting {\n    opacity: 0.8;\n  }\n\n  &.connected {\n    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);\n    box-shadow: 0 8rpx 20rpx rgba(76, 175, 80, 0.25);\n    cursor: default;\n  }\n\n  .btn-loading {\n    margin-right: 16rpx;\n\n    .btn-spinner {\n      width: 36rpx;\n      height: 36rpx;\n      border: 3rpx solid rgba(255, 255, 255, 0.3);\n      border-top-color: #ffffff;\n      border-radius: 50%;\n      animation: spin 0.8s linear infinite;\n    }\n  }\n\n  .connected-icon {\n    margin-right: 12rpx;\n    font-size: 36rpx;\n    font-weight: bold;\n  }\n\n  &:active:not(.connected) {\n    transform: scale(0.98);\n    box-shadow: 0 4rpx 10rpx rgba(238, 120, 31, 0.25);\n  }\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* Á∫¢ÂåÖÂç°ÁâáÊ†∑Âºè */\n.coupon-card {\n  background: linear-gradient(135deg, #FFE8D6 0%, #FFD4B3 100%);\n  border-radius: 24rpx;\n  padding: 32rpx;\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: -50rpx;\n    right: -50rpx;\n    width: 200rpx;\n    height: 200rpx;\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 50%;\n  }\n\n  .coupon-header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 24rpx;\n\n    .coupon-icon {\n      font-size: 48rpx;\n      margin-right: 16rpx;\n    }\n\n    .coupon-title {\n      flex: 1;\n\n      .title-text {\n        display: block;\n        font-size: 30rpx;\n        font-weight: 600;\n        color: #333;\n        margin-bottom: 8rpx;\n      }\n\n      .subtitle-text {\n        display: block;\n        font-size: 22rpx;\n        color: #666;\n      }\n    }\n  }\n\n  .coupon-content {\n    display: flex;\n    align-items: flex-end;\n    justify-content: space-between;\n    margin-bottom: 20rpx;\n\n    .coupon-amount {\n      display: flex;\n      align-items: baseline;\n\n      .amount-symbol {\n        font-size: 32rpx;\n        font-weight: 600;\n        color: #EE781F;\n        margin-right: 4rpx;\n      }\n\n      .amount-value {\n        font-size: 64rpx;\n        font-weight: 700;\n        color: #EE781F;\n        line-height: 1;\n      }\n    }\n\n    .coupon-desc {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      padding-bottom: 8rpx;\n\n      .desc-tag {\n        font-size: 22rpx;\n        color: #EE781F;\n        background: rgba(238, 120, 31, 0.1);\n        padding: 4rpx 12rpx;\n        border-radius: 8rpx;\n        margin-bottom: 8rpx;\n      }\n    }\n  }\n\n  .coupon-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 12rpx;\n    margin-bottom: 24rpx;\n\n    .tag {\n      font-size: 20rpx;\n      color: #666;\n      background: rgba(0, 0, 0, 0.05);\n      padding: 6rpx 16rpx;\n      border-radius: 8rpx;\n    }\n  }\n\n  .coupon-btn {\n    width: 100%;\n    height: 72rpx;\n    background: #EE781F;\n    border-radius: 36rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 28rpx;\n    color: #ffffff;\n    font-weight: 500;\n    box-shadow: 0 8rpx 16rpx rgba(238, 120, 31, 0.3);\n    transition: all 0.3s;\n\n    &:active {\n      transform: scale(0.98);\n      box-shadow: 0 4rpx 8rpx rgba(238, 120, 31, 0.3);\n    }\n  }\n}\n\n.empty-container {\n  padding: 200rpx 0;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.btn-disabled {\n  background: #ccc !important;\n  box-shadow: none !important;\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=532c4413&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=532c4413&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1769665553391\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=532c4413&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=532c4413&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1769665553263\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}