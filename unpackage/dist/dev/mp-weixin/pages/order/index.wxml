<view class="{{['page','data-v-0ca91b30',virtualHostClass]}}" style="{{virtualHostStyle}}"><view class="fixed-header data-v-0ca91b30"><uni-nav-bar vue-id="3bc35b9e-1" backgroundColor="#FFFFFF" shadow="{{false}}" border="{{false}}" status-bar="{{true}}" left-icon="left" data-event-opts="{{[['^clickLeft',[['goBack']]]]}}" bind:clickLeft="__e" class="data-v-0ca91b30" bind:__l="__l" virtualHostClass="data-v-0ca91b30" vue-slots="{{['default']}}"><text class="{{['nav-title','data-v-0ca91b30',virtualHostClass]}}" style="{{virtualHostStyle}}">我的订单</text></uni-nav-bar><view class="tabs-wrapper data-v-0ca91b30"><scroll-view class="tabs-scroll data-v-0ca91b30" scroll-x="{{true}}" show-scrollbar="false" scroll-left="{{scrollLeft}}"><view class="tabs-container data-v-0ca91b30"><block wx:for="{{tabs}}" wx:for-item="tab" wx:for-index="idx" wx:key="value"><block wx:if="{{!(tab.value===6&&!showExchangeTab)}}"><view data-event-opts="{{[['tap',[['switchTab',['$0'],[[['tabs','value',tab.value,'value']]]]]]]}}" class="{{['data-v-0ca91b30','tab',[(currentTab===tab.value)?'active':''],virtualHostClass]}}" bindtap="__e" style="{{virtualHostStyle}}">{{''+tab.label+''}}<block wx:if="{{tab.value===6&&showExchangeTab}}"><view class="red-dot data-v-0ca91b30"></view></block></view></block></block></view></scroll-view><view class="tabs-mask-left data-v-0ca91b30"></view><view class="tabs-mask data-v-0ca91b30"></view></view></view><scroll-view class="order-list data-v-0ca91b30" scroll-y="{{true}}" enable-back-to-top="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><block wx:if="{{tabLoading}}"><view class="tab-loading-overlay data-v-0ca91b30"><view class="tab-loading-content data-v-0ca91b30"><view class="tab-loading-spinner data-v-0ca91b30"><view class="spinner-ring data-v-0ca91b30"></view><view class="spinner-ring data-v-0ca91b30"></view><view class="spinner-ring data-v-0ca91b30"></view></view><text class="tab-loading-text data-v-0ca91b30">正在切换...</text></view></view></block><block wx:for="{{$root.l0}}" wx:for-item="order" wx:for-index="__i0__" wx:key="id"><view class="{{['order-card','data-v-0ca91b30',(tabLoading)?'loading-blur':'',virtualHostClass]}}" style="{{virtualHostStyle}}"><block wx:if="{{order.$orig.type===0}}"><view class="order-header data-v-0ca91b30"><text class="order-number data-v-0ca91b30">{{"订单号："+order.$orig.orderNo+''}}</text><view class="status-section data-v-0ca91b30"><text class="{{['order-status','data-v-0ca91b30','status-'+order.$orig.orderStatus]}}">{{''+order.m0+''}}</text><block wx:if="{{order.$orig.orderStatus===4||order.$orig.orderStatus===5}}"><view class="verticalLine data-v-0ca91b30"></view></block><block wx:if="{{order.$orig.orderStatus===4||order.$orig.orderStatus===5}}"><image class="delete-icon data-v-0ca91b30" src="/static/base/delete.png" mode="aspectFill" data-event-opts="{{[['tap',[['deleteOrder',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" catchtap="__e"></image></block></view></view></block><block wx:else><block wx:if="{{order.$orig.type===1}}"><view class="order-header order-bg data-v-0ca91b30"><text class="order-number data-v-0ca91b30">{{"订单号："+order.$orig.orderNo+''}}</text><view class="status-section data-v-0ca91b30"><text class="{{['order-status','data-v-0ca91b30','status-'+order.$orig.orderStatus]}}">{{''+order.m1+''}}</text><block wx:if="{{order.$orig.orderStatus===4||order.$orig.orderStatus===5}}"><view class="verticalLine data-v-0ca91b30"></view></block><block wx:if="{{order.$orig.orderStatus===4||order.$orig.orderStatus===5}}"><image class="delete-icon data-v-0ca91b30" src="/static/base/delete.png" mode="aspectFill" data-event-opts="{{[['tap',[['deleteOrder',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" catchtap="__e"></image></block></view></view></block></block><view data-event-opts="{{[['tap',[['goDetail',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="hotel-info data-v-0ca91b30" bindtap="__e"><image class="hotel-image data-v-0ca91b30" src="{{order.$orig.mainPicture||defaultCover}}" mode="aspectFill"></image><block wx:if="{{order.$orig.type===0}}"><view class="hotel-details data-v-0ca91b30"><text class="hotel-name data-v-0ca91b30">{{order.$orig.hotelName}}</text><text class="room-info data-v-0ca91b30">{{order.$orig.roomTypeName+" | "+(order.$orig.saleMode===1?'房间数':'床位数')+"："+order.$orig.roomCount}}</text><text class="date-info data-v-0ca91b30">{{order.m2}}</text></view></block><block wx:if="{{order.$orig.type===1}}"><view class="hotel-details data-v-0ca91b30"><text class="hotel-name data-v-0ca91b30">{{order.$orig.hotelName}}</text><text class="room-info data-v-0ca91b30">{{'购买日期：'+order.$orig.createTime}}</text><text class="date-info data-v-0ca91b30">{{order.m3}}</text></view></block></view><view class="line data-v-0ca91b30"></view><view class="bottom-section data-v-0ca91b30"><block wx:if="{{order.$orig.type===0}}"><view class="price-info data-v-0ca91b30"><text class="price-label data-v-0ca91b30">{{order.m4}}</text><text class="price-amount data-v-0ca91b30"><text class="currency data-v-0ca91b30">￥</text>{{''+order.$orig.totalAmount+''}}</text></view></block><block wx:else><block wx:if="{{order.$orig.type===1}}"><view class="order_source data-v-0ca91b30">订单来源：探探糖</view></block></block><view class="action-buttons data-v-0ca91b30"><block wx:if="{{order.$orig.orderStatus===1}}"><view data-event-opts="{{[['tap',[['cancelOrder',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-cancel data-v-0ca91b30" catchtap="__e">取消订单</view><view data-event-opts="{{[['tap',[['payOrder',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-pay data-v-0ca91b30" catchtap="__e">立即支付</view></block><block wx:else><block wx:if="{{order.$orig.orderStatus===2}}"><view data-event-opts="{{[['tap',[['refund',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-cancel data-v-0ca91b30" catchtap="__e">取消订单</view><view data-event-opts="{{[['tap',[['goDetail',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-detail data-v-0ca91b30" catchtap="__e">查看详情</view></block><block wx:else><block wx:if="{{order.$orig.orderStatus===3&&order.$orig.type!=1}}"><view data-event-opts="{{[['tap',[['rebookOrder',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-rebook data-v-0ca91b30" catchtap="__e">再次预订</view></block><block wx:else><block wx:if="{{order.$orig.orderStatus===5&&order.$orig.type!=1}}"><view data-event-opts="{{[['tap',[['rebookOrder',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-rebook data-v-0ca91b30" catchtap="__e">再次预订</view></block><block wx:else><block wx:if="{{order.$orig.orderStatus===6&&order.$orig.type===1}}"><view data-event-opts="{{[['tap',[['gotoUse',['$0'],[[['orders','id',order.$orig.id]]]]]]]}}" class="btn btn-detail data-v-0ca91b30" catchtap="__e">去兑换</view></block></block></block></block></block></view></view></view></block><block wx:if="{{!tabLoading&&!refreshing}}"><view class="load-more-status data-v-0ca91b30"><block wx:if="{{loading&&currentPage>1}}"><view class="loading data-v-0ca91b30"><view class="loading-icon data-v-0ca91b30"></view><text class="loading-text data-v-0ca91b30">加载中...</text></view></block><block wx:else><block wx:if="{{$root.g0}}"><view class="no-more data-v-0ca91b30"><text class="no-more-text data-v-0ca91b30">已经到底啦</text></view></block><block wx:else><block wx:if="{{$root.g1}}"><empty-state vue-id="3bc35b9e-2" text="暂无订单" class="data-v-0ca91b30" bind:__l="__l" virtualHostClass="data-v-0ca91b30"></empty-state></block></block></block></view></block></scroll-view><custom-tabbar vue-id="3bc35b9e-3" current="order" class="data-v-0ca91b30" bind:__l="__l" virtualHostClass="data-v-0ca91b30"></custom-tabbar></view>