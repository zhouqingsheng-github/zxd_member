<view class="{{['mall-page','data-v-142423c4',virtualHostClass]}}" style="{{virtualHostStyle}}"><view class="header-section data-v-142423c4"><view class="status-bar data-v-142423c4" style="{{'height:'+(statusBarHeight+'px')+';'}}"></view><view class="nav-bar data-v-142423c4"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="nav-left data-v-142423c4" bindtap="__e"><view class="back-btn data-v-142423c4"><u-icon vue-id="705f52b0-1" name="arrow-left" color="#FFFFFF" size="40" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-icon></view></view><text class="nav-title data-v-142423c4">积分商城</text><view data-event-opts="{{[['tap',[['goToOrderList',['$event']]]]]}}" class="nav-right data-v-142423c4" bindtap="__e"><view class="history-btn data-v-142423c4"><u-icon vue-id="705f52b0-2" name="list" color="#FFFFFF" size="40" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-icon></view></view></view><view class="header-decoration data-v-142423c4"><view class="decoration-circle circle-1 data-v-142423c4"></view><view class="decoration-circle circle-2 data-v-142423c4"></view><view class="decoration-circle circle-3 data-v-142423c4"></view></view><view class="points-card-wrapper data-v-142423c4"><view class="points-card data-v-142423c4"><view class="card-bg data-v-142423c4"></view><view class="card-content data-v-142423c4"><view class="points-info data-v-142423c4"><text class="points-label data-v-142423c4">我的积分</text><view class="points-value-row data-v-142423c4"><text class="points-value data-v-142423c4">{{userPoints}}</text><text class="points-unit data-v-142423c4">分</text></view></view><view class="points-icon-wrapper data-v-142423c4"><image class="points-icon data-v-142423c4" src="/static/images/points-icon.png" mode="aspectFit"></image></view><view data-event-opts="{{[['tap',[['goToOrderList',['$event']]]]]}}" class="record-btn data-v-142423c4" bindtap="__e"><text class="record-text data-v-142423c4">兑换记录</text><u-icon vue-id="705f52b0-3" name="arrow-right" color="#FF7043" size="24" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-icon></view></view></view></view><view class="search-section data-v-142423c4"><view class="search-box data-v-142423c4"><u-icon vue-id="705f52b0-4" name="search" color="#999999" size="36" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-icon><input class="search-input data-v-142423c4" placeholder="搜索你想要的商品" placeholder-class="search-placeholder-class" confirm-type="search" data-event-opts="{{[['confirm',[['handleSearch',['$event']]]],['input',[['__set_model',['','searchKeyword','$event',[]]]]]]}}" value="{{searchKeyword}}" bindconfirm="__e" bindinput="__e"/><block wx:if="{{searchKeyword}}"><view data-event-opts="{{[['tap',[['clearSearch',['$event']]]]]}}" class="clear-btn data-v-142423c4" bindtap="__e"><u-icon vue-id="705f52b0-5" name="close-circle-fill" color="#CCCCCC" size="32" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-icon></view></block></view></view></view><view class="category-section data-v-142423c4"><scroll-view class="category-scroll data-v-142423c4" scroll-x="{{true}}" show-scrollbar="{{false}}"><view class="category-list data-v-142423c4"><block wx:for="{{categoryList}}" wx:for-item="cat" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['handleCategoryChange',[index]]]]]}}" bindtap="__e" class="{{['category-item','data-v-142423c4',virtualHostClass]}}" style="{{virtualHostStyle}}"><text class="{{['category-text','data-v-142423c4',(currentCategory===index)?'category-text-active':'']}}">{{''+cat.name+''}}</text><view class="{{['category-indicator','data-v-142423c4',(currentCategory===index)?'indicator-active':'']}}"></view></view></block></view></scroll-view></view><scroll-view class="content-scroll data-v-142423c4" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><view class="product-section data-v-142423c4"><view class="product-grid data-v-142423c4"><block wx:for="{{productList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><product-card vue-id="{{'705f52b0-6-'+__i0__}}" product="{{item}}" data-event-opts="{{[['^click',[['goToDetail']]]]}}" bind:click="__e" class="{{['data-v-142423c4',virtualHostClass]}}" style="{{virtualHostStyle}}" bind:__l="__l" virtualHostStyle="{{virtualHostStyle}}" virtualHostClass="{{['data-v-142423c4',virtualHostClass]}}"></product-card></block></view></view><block wx:if="{{$root.g0}}"><view class="loading-state data-v-142423c4"><u-loading-icon vue-id="705f52b0-7" mode="circle" color="#FF7043" size="60" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-loading-icon><text class="loading-text data-v-142423c4">加载中...</text></view></block><block wx:if="{{$root.g1}}"><view class="empty-state data-v-142423c4"><image class="empty-image data-v-142423c4" src="/static/images/empty-product.png" mode="aspectFit"></image><text class="empty-text data-v-142423c4">暂无商品</text><text class="empty-tip data-v-142423c4">换个分类看看吧~</text></view></block><block wx:if="{{$root.g2>0}}"><view class="loadmore-state data-v-142423c4"><block wx:if="{{loadingMore}}"><view class="loadmore-loading data-v-142423c4"><u-loading-icon vue-id="705f52b0-8" mode="circle" color="#FF7043" size="40" class="data-v-142423c4" bind:__l="__l" virtualHostClass="data-v-142423c4"></u-loading-icon><text class="loadmore-text data-v-142423c4">加载中...</text></view></block><block wx:else><block wx:if="{{noMore}}"><text class="loadmore-end data-v-142423c4">— 已经到底了 —</text></block></block></view></block></scroll-view></view>