<view class="{{['product-detail-page','data-v-37c2ed5e',virtualHostClass]}}" style="{{virtualHostStyle}}"><view class="nav-bar data-v-37c2ed5e" style="{{'padding-top:'+(statusBarHeight+'px')+';'}}"><view class="nav-content data-v-37c2ed5e"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="nav-btn data-v-37c2ed5e" bindtap="__e"><u-icon vue-id="7ec98130-1" name="arrow-left" color="#FFFFFF" size="40" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e"></u-icon></view><view class="nav-title data-v-37c2ed5e">商品详情</view><view data-event-opts="{{[['tap',[['goToHome',['$event']]]]]}}" class="nav-btn data-v-37c2ed5e" bindtap="__e"><u-icon vue-id="7ec98130-2" name="home" color="#FFFFFF" size="36" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e"></u-icon></view></view></view><scroll-view class="content-scroll data-v-37c2ed5e" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]]]}}" bindscrolltolower="__e"><view class="swiper-section data-v-37c2ed5e"><swiper class="product-swiper data-v-37c2ed5e" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}" indicator-color="rgba(255,255,255,0.5)" indicator-active-color="#FF7043"><block wx:for="{{carouselImages}}" wx:for-item="image" wx:for-index="index" wx:key="index"><swiper-item class="{{['data-v-37c2ed5e',virtualHostClass]}}" style="{{virtualHostStyle}}"><image class="swiper-image data-v-37c2ed5e" src="{{image}}" mode="aspectFill"></image></swiper-item></block></swiper></view><view class="product-info-card data-v-37c2ed5e"><view class="price-section data-v-37c2ed5e"><view class="price-row data-v-37c2ed5e"><text class="points-price data-v-37c2ed5e">{{selectedSku.pointsRequired||productInfo.minPoints}}</text><text class="points-unit data-v-37c2ed5e">积分</text><block wx:if="{{selectedSku.cashRequired>0}}"><text class="cash-price data-v-37c2ed5e">{{"+¥"+selectedSku.cashRequired}}</text></block></view><block wx:if="{{productInfo.purchaseLimit>0}}"><view class="limit-tag data-v-37c2ed5e">{{'限购'+productInfo.purchaseLimit+'件'}}</view></block></view><view class="product-name data-v-37c2ed5e">{{productInfo.spuName}}</view><view class="product-desc data-v-37c2ed5e">{{productInfo.description}}</view><view data-event-opts="{{[['tap',[['showSkuPopup',['$event']]]]]}}" class="spec-selector data-v-37c2ed5e" bindtap="__e"><view class="spec-label data-v-37c2ed5e">已选</view><view class="spec-value data-v-37c2ed5e">{{selectedSku.skuName||'请选择规格'}}</view><u-icon vue-id="7ec98130-3" name="arrow-right" color="#999999" size="28" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e"></u-icon></view></view><view class="tabs-section data-v-37c2ed5e"><block wx:for="{{tabs}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchTab',[index]]]]]}}" class="{{['tab-item','data-v-37c2ed5e',(currentTab===index)?'active':'',virtualHostClass]}}" bindtap="__e" style="{{virtualHostStyle}}"><text class="tab-text data-v-37c2ed5e">{{tab}}</text><block wx:if="{{currentTab===index}}"><view class="tab-indicator data-v-37c2ed5e"></view></block></view></block></view><view class="tab-content data-v-37c2ed5e"><block wx:if="{{currentTab===0}}"><view class="detail-content data-v-37c2ed5e"><block wx:if="{{productInfo.detailContent}}"><view class="rich-text data-v-37c2ed5e"><rich-text nodes="{{productInfo.detailContent}}" class="data-v-37c2ed5e"></rich-text></view></block><block wx:else><view class="empty-detail data-v-37c2ed5e"><text class="empty-text data-v-37c2ed5e">暂无详细介绍</text></view></block></view></block><block wx:if="{{currentTab===1}}"><view class="spec-content data-v-37c2ed5e"><view class="spec-item data-v-37c2ed5e"><text class="spec-item-label data-v-37c2ed5e">商品编号</text><text class="spec-item-value data-v-37c2ed5e">{{productInfo.spuNo}}</text></view><view class="spec-item data-v-37c2ed5e"><text class="spec-item-label data-v-37c2ed5e">商品分类</text><text class="spec-item-value data-v-37c2ed5e">{{productInfo.categoryName}}</text></view><view class="spec-item data-v-37c2ed5e"><text class="spec-item-label data-v-37c2ed5e">兑换方式</text><text class="spec-item-value data-v-37c2ed5e">{{selectedSku.exchangeType==='POINTS'?'纯积分':'积分+现金'}}</text></view><block wx:if="{{productInfo.purchaseLimit>0}}"><view class="spec-item data-v-37c2ed5e"><text class="spec-item-label data-v-37c2ed5e">限购数量</text><text class="spec-item-value data-v-37c2ed5e">{{productInfo.purchaseLimit+"件"}}</text></view></block></view></block></view><view class="bottom-placeholder data-v-37c2ed5e"></view></scroll-view><view class="bottom-bar data-v-37c2ed5e" style="{{'padding-bottom:'+(safeAreaBottom+'px')+';'}}"><view class="bar-content data-v-37c2ed5e"><button data-event-opts="{{[['tap',[['handleExchange',['$event']]]]]}}" class="exchange-btn data-v-37c2ed5e" bindtap="__e"><text class="btn-text data-v-37c2ed5e">立即兑换</text></button></view></view><u-popup bind:input="__e" vue-id="7ec98130-4" mode="bottom" border-radius="32" safe-area-inset-bottom="{{true}}" value="{{skuPopupShow}}" data-event-opts="{{[['^input',[['__set_model',['','skuPopupShow','$event',[]]]]]]}}" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e" vue-slots="{{['default']}}"><view class="sku-popup data-v-37c2ed5e"><view class="popup-header data-v-37c2ed5e"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="popup-close data-v-37c2ed5e" bindtap="__e"><u-icon vue-id="{{('7ec98130-5')+','+('7ec98130-4')}}" name="close" color="#666666" size="40" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e"></u-icon></view></view><view class="popup-product data-v-37c2ed5e"><image class="popup-image data-v-37c2ed5e" src="{{productInfo.mainImage}}" mode="aspectFill"></image><view class="popup-info data-v-37c2ed5e"><view class="popup-price data-v-37c2ed5e"><text class="popup-points data-v-37c2ed5e">{{selectedSku.pointsRequired||productInfo.minPoints}}</text><text class="popup-unit data-v-37c2ed5e">积分</text></view><view class="popup-name data-v-37c2ed5e">{{productInfo.spuName}}</view><block wx:if="{{selectedSku.skuName}}"><view class="popup-spec data-v-37c2ed5e">{{"已选："+selectedSku.skuName}}</view></block></view></view><view class="popup-divider data-v-37c2ed5e"></view><view class="sku-section data-v-37c2ed5e"><view class="sku-title data-v-37c2ed5e">选择规格</view><view class="sku-list data-v-37c2ed5e"><block wx:for="{{skuList}}" wx:for-item="sku" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['selectSku',['$0'],[[['skuList','id',sku.id]]]]]]]}}" class="{{['sku-item','data-v-37c2ed5e',(selectedSku.id===sku.id)?'active':'',(sku.stock===0)?'disabled':'',virtualHostClass]}}" bindtap="__e" style="{{virtualHostStyle}}"><text class="sku-name data-v-37c2ed5e">{{sku.skuName}}</text><text class="sku-points data-v-37c2ed5e">{{sku.pointsRequired+"积分"}}</text><block wx:if="{{sku.stock===0}}"><view class="sku-sold-out data-v-37c2ed5e">已售罄</view></block><block wx:if="{{selectedSku.id===sku.id}}"><u-icon class="sku-check data-v-37c2ed5e" vue-id="{{('7ec98130-6-'+__i0__)+','+('7ec98130-4')}}" name="checkbox-mark" color="#FF7043" size="32" bind:__l="__l" virtualHostClass="sku-check data-v-37c2ed5e"></u-icon></block></view></block></view></view><view class="quantity-section data-v-37c2ed5e"><view class="quantity-title data-v-37c2ed5e">购买数量</view><view class="quantity-control data-v-37c2ed5e"><view data-event-opts="{{[['tap',[['decreaseQuantity',['$event']]]]]}}" class="{{['quantity-btn','data-v-37c2ed5e',(quantity<=1)?'disabled':'']}}" bindtap="__e"><u-icon vue-id="{{('7ec98130-7')+','+('7ec98130-4')}}" name="minus" color="#666666" size="28" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e"></u-icon></view><input class="quantity-input data-v-37c2ed5e" type="number" data-event-opts="{{[['blur',[['checkQuantity',['$event']]]],['input',[['__set_model',['','quantity','$event',[]]]]]]}}" value="{{quantity}}" bindblur="__e" bindinput="__e"/><view data-event-opts="{{[['tap',[['increaseQuantity',['$event']]]]]}}" class="{{['quantity-btn','data-v-37c2ed5e',(quantity>=maxQuantity)?'disabled':'']}}" bindtap="__e"><u-icon vue-id="{{('7ec98130-8')+','+('7ec98130-4')}}" name="plus" color="#666666" size="28" class="data-v-37c2ed5e" bind:__l="__l" virtualHostClass="data-v-37c2ed5e"></u-icon></view></view></view><view class="popup-footer data-v-37c2ed5e"><button data-event-opts="{{[['tap',[['confirmSku',['$event']]]]]}}" class="confirm-btn data-v-37c2ed5e" bindtap="__e"><text class="confirm-text data-v-37c2ed5e">确定</text></button></view></view></u-popup></view>